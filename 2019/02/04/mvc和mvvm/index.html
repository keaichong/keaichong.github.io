<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/keaichong.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/keaichong.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/keaichong.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/keaichong.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/keaichong.github.io/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/keaichong.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/keaichong.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="article">
<meta property="og:title" content="mvc和mvvm">
<meta property="og:url" content="http://yoursite.com/2019/02/04/mvc和mvvm/index.html">
<meta property="og:site_name" content="阳仔的博客">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/keaichong.github.io/2019/02/04/mvc和mvvm/01.MVC和MVVM的关系图解.png">
<meta property="og:image" content="http://yoursite.com/keaichong.github.io/2019/02/04/mvc和mvvm/vue.png">
<meta property="og:updated_time" content="2019-03-09T11:56:51.139Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mvc和mvvm">
<meta name="twitter:image" content="http://yoursite.com/keaichong.github.io/2019/02/04/mvc和mvvm/01.MVC和MVVM的关系图解.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/keaichong.github.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/02/04/mvc和mvvm/">





  <title>mvc和mvvm | 阳仔的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/keaichong.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">阳仔的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">选择性失忆</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/keaichong.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/keaichong.github.io/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/keaichong.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/keaichong.github.io/2019/02/04/mvc和mvvm/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="愚人阳仔">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/keaichong.github.io/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阳仔的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">mvc和mvvm</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-04T01:55:02+08:00">
                2019-02-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <img src="/keaichong.github.io/2019/02/04/mvc和mvvm/01.MVC和MVVM的关系图解.png" title="MVC和MVVM的关系图解">
<a id="more"></a>
<img src="/keaichong.github.io/2019/02/04/mvc和mvvm/vue.png" title="vue图解">
<h2 id="Vue-项目-重点"><a href="#Vue-项目-重点" class="headerlink" title="Vue-项目-重点"></a>Vue-项目-重点</h2><h3 id="day07-项目-重点"><a href="#day07-项目-重点" class="headerlink" title="day07-项目-重点"></a>day07-项目-重点</h3><h4 id="01-项目-准备-vue-cli-创建项目结构"><a href="#01-项目-准备-vue-cli-创建项目结构" class="headerlink" title="01-项目-准备-vue-cli 创建项目结构"></a>01-项目-准备-vue-cli 创建项目结构</h4><ol>
<li><p>来到项目所希望的目录-&gt;打开 cmd</p>
</li>
<li><p>vue init webpack 项目名</p>
<ol>
<li>是否安装 vue-router -&gt; Y</li>
<li>是否 use ESLint -&gt; Y</li>
<li>编译方式 -&gt; for most users</li>
<li>unit tests-&gt;N</li>
<li>e2e -&gt; N</li>
<li>npm/yarn -&gt; npm</li>
</ol>
</li>
<li><p>cd 项目目录</p>
</li>
<li><p>npm run dev 启动开发模式</p>
<blockquote>
<p>注意: 默认不会打开浏览器</p>
</blockquote>
</li>
</ol>
<h4 id="02-项目-准备-项目目录说明"><a href="#02-项目-准备-项目目录说明" class="headerlink" title="02-项目-准备-项目目录说明"></a>02-项目-准备-项目目录说明</h4><ol>
<li>.eslintignore -&gt; ESLint 检查 js 代码排除忽略文件</li>
<li>eslintrc-&gt; ESLint 配置文件</li>
<li>.gitignore -&gt; git 排除忽略文件</li>
<li>build/ -&gt; webpack 打包(src)的产物</li>
<li>conf/ -&gt; 配置服务器 index.js autoOpenBrowser: true, -&gt; npm run dev</li>
<li>src/main.js 和之前不一样 之前是 render-&gt; 现在是 template 和 components</li>
</ol>
<h4 id="03-项目-准备-代码规范-自定义指令-lintfix"><a href="#03-项目-准备-代码规范-自定义指令-lintfix" class="headerlink" title="03-项目-准备-代码规范-自定义指令-lintfix"></a>03-项目-准备-代码规范-自定义指令-lintfix</h4><blockquote>
<p>ESlint 自动检查 js 代码规范</p>
<p>一键调整代码规范</p>
</blockquote>
<ol>
<li><p>package.json-&gt;scripts-&gt;自定义指令</p>
<blockquote>
<p>“lintfix”: “eslint –ext .js,.vue src –fix”,</p>
</blockquote>
</li>
<li><p>npm run dev 让配置文件生效</p>
</li>
<li><p>npm run lintfix (对于未使用的变量 不能修复)</p>
</li>
<li><p>npm run dev</p>
</li>
</ol>
<blockquote>
<p>建议: 先感受 ESLint , 项目第三天 教如何禁用 eslint</p>
</blockquote>
<h4 id="04-项目-准备-element-ui-文档分析"><a href="#04-项目-准备-element-ui-文档分析" class="headerlink" title="04-项目-准备-element-ui-文档分析"></a>04-项目-准备-element-ui-文档分析</h4><blockquote>
<p>vue 使用第三方 UI 库 饿了么 element-ui</p>
<p>vuePC 项目:element-ui / iView</p>
<p>vue 移动端项目: mint-ui</p>
</blockquote>
<h4 id="05-项目-准备-element-ui-安装-引入"><a href="#05-项目-准备-element-ui-安装-引入" class="headerlink" title="05-项目-准备-element-ui-安装-引入"></a>05-项目-准备-element-ui-安装-引入</h4><blockquote>
<p>npm i element-ui</p>
</blockquote>
<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">"element-ui"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"element-ui/lib/theme-chalk/index.css"</span>;</span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在所有的.vue 文件 template 中就可以使用组件了!</p>
</blockquote>
<h4 id="06-项目-准备-项目模板简化-调整"><a href="#06-项目-准备-项目模板简化-调整" class="headerlink" title="06-项目-准备-项目模板简化-调整"></a>06-项目-准备-项目模板简化-调整</h4><blockquote>
<p>简化代码</p>
</blockquote>
<h4 id="07-项目-准备-git-版本控制"><a href="#07-项目-准备-git-版本控制" class="headerlink" title="07-项目-准备-git-版本控制"></a>07-项目-准备-git-版本控制</h4><blockquote>
<p>git 管理项目代码</p>
<p>gitbash-&gt; git 指令可以任何 cmd 中执行-&gt;git 报错-&gt;git 是无效指令-&gt;</p>
<ol>
<li>找到 git 软件安装路径 bin</li>
<li>找到计算机管理/属性//环境变量 path -&gt; 修改编辑 path -&gt; 把上一步路径放在 path 里面</li>
<li>可以在任意 cmd 中 git 指令</li>
<li>重启电脑</li>
</ol>
<p><a href="https://blog.csdn.net/shanshan_blog/article/details/53645358" target="_blank" rel="noopener">网址</a></p>
<p>继续 gitbash 软件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m "注释"</span><br><span class="line">// github新建仓库</span><br><span class="line">// 关联仓库</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>后续再 git</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "完成了功能1-登录"</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h4 id="08-项目-准备-git-分支管理"><a href="#08-项目-准备-git-分支管理" class="headerlink" title="08-项目-准备-git-分支管理"></a>08-项目-准备-git-分支管理</h4><blockquote>
<p>前提 git 管理代码/协同开发</p>
</blockquote>
<blockquote>
<p>项目 2 个人</p>
<p>A 人-&gt;新建子分支 login-&gt;编写代码 -&gt;git add. commit-&gt;把代码 A 合并到主分支 master</p>
<p>B 人-&gt;新建子分支 home-&gt;编写代码 -&gt;git add. commit-&gt;把代码 B 合并到主分支 master</p>
<p>在 master 主分支-&gt;git push</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 查看分支</span><br><span class="line">git branch</span><br><span class="line">// 新建分支并且切换到分支</span><br><span class="line">git checkout -b 分支dev-login</span><br><span class="line">// git branch</span><br><span class="line">// 结果: 接下来所有的操作(代码编写/add/commit)在当前的dev-login进行操作的-&gt;开发login功能</span><br></pre></td></tr></table></figure>
<h4 id="09-项目-登录-新建分支-login-组件-配置路由"><a href="#09-项目-登录-新建分支-login-组件-配置路由" class="headerlink" title="09-项目-登录-新建分支-login 组件-配置路由"></a>09-项目-登录-新建分支-login 组件-配置路由</h4><blockquote>
<p>当前开发 login 登录 当前分支 dev-login</p>
</blockquote>
<ol>
<li>新建 login.vue 组件</li>
<li>配置路由 router.js</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 在子分支完成小功能后,在子分支上</span><br><span class="line">git add .</span><br><span class="line">git commit -m "注释"</span><br><span class="line">// 功能完成</span><br><span class="line">// 切换到master</span><br><span class="line">git checkout master</span><br><span class="line">// 把dev-login分支写的代码合并到master</span><br><span class="line">// git branch</span><br><span class="line">git merge dev-login</span><br><span class="line">// 在master主分支推送</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h4 id="10-项目-登录-引入表单组件"><a href="#10-项目-登录-引入表单组件" class="headerlink" title="10-项目-登录-引入表单组件"></a>10-项目-登录-引入表单组件</h4><blockquote>
<p>切换回 dev-login</p>
</blockquote>
<ol>
<li>引入 el-form</li>
<li>添加类名</li>
<li>提供组件要用的数据</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m "引入登录组件"</span><br></pre></td></tr></table></figure>
<blockquote>
<p>合并代码 不需要每次都做,可以完成一大功能 最后一起合并和推送</p>
</blockquote>
<h4 id="11-项目-登录-样式调整"><a href="#11-项目-登录-样式调整" class="headerlink" title="11-项目-登录-样式调整"></a>11-项目-登录-样式调整</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.login-wrap</span> &#123;</span><br><span class="line">  <span class="comment">/* 注意: 百分比布局 父元素height */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#324152</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-form</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="comment">/* 开发 */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-btn</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>百分比布局<ol>
<li>base.css html,body{height:100%}</li>
<li>App.vue #app{height:100%}</li>
</ol>
</li>
<li>vue 项目重点不是 css 只要能写出来就可以</li>
</ol>
</blockquote>
<h4 id="12-项目-登录-axios-插件"><a href="#12-项目-登录-axios-插件" class="headerlink" title="12-项目-登录-axios 插件"></a>12-项目-登录-axios 插件</h4><ol>
<li>npm i axios</li>
<li>main.js 挂载原型 axios</li>
<li>配置 baseUrl</li>
<li>this.\$http 发送请求了</li>
</ol>
<h4 id="13-项目-登录-发送登录请求"><a href="#13-项目-登录-发送登录请求" class="headerlink" title="13-项目-登录-发送登录请求"></a>13-项目-登录-发送登录请求</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$http</span><br><span class="line">  .post(<span class="string">`login`</span>, <span class="keyword">this</span>.formdata)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>服务器 cmd 卡死-&gt; 回车-&gt;激活它</p>
</blockquote>
<h4 id="14-项目-登录-引入提示框组件"><a href="#14-项目-登录-引入提示框组件" class="headerlink" title="14-项目-登录-引入提示框组件"></a>14-项目-登录-引入提示框组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$http.post(<span class="string">`login`</span>, <span class="keyword">this</span>.formdata).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">      data,</span><br><span class="line">      meta: &#123; msg, status &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; = res;</span><br><span class="line">  <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"success----"</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 提示框 -&gt; UI</span></span><br><span class="line">    <span class="keyword">this</span>.$message.error(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示: 对象解构赋值</p>
</blockquote>
<h4 id="15-项目-登录-登录成功-进入-home-组件"><a href="#15-项目-登录-登录成功-进入-home-组件" class="headerlink" title="15-项目-登录-登录成功-进入 home 组件"></a>15-项目-登录-登录成功-进入 home 组件</h4><blockquote>
<p>登录成功-&gt;渲染 home.vue</p>
</blockquote>
<h4 id="16-项目-登录-简化登录请求代码-async-和-await"><a href="#16-项目-登录-简化登录请求代码-async-和-await" class="headerlink" title="16-项目-登录-简化登录请求代码-async 和 await"></a>16-项目-登录-简化登录请求代码-async 和 await</h4><blockquote>
<p>目的:让异步代码看起来像同步,好处没有函数嵌套</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.post(<span class="string">`login`</span>, <span class="keyword">this</span>.formdata);</span><br></pre></td></tr></table></figure>
<ol>
<li>找异步代码</li>
<li>在异步代码前面加 await 同时接受异步的结果</li>
<li>在异步代码外层最近的函数前面加 async</li>
</ol>
<h4 id="17-项目-登录-保存-token-值"><a href="#17-项目-登录-保存-token-值" class="headerlink" title="17-项目-登录-保存 token 值"></a>17-项目-登录-保存 token 值</h4><blockquote>
<p>将来在其他组件中使用用户的数据信息中 token 数据-&gt;保存 token-&gt;</p>
<p>login.vue 有了 token -&gt; xxoo.vue 使用 token-&gt;</p>
<p>A 页面有数据 a -&gt; B 页面使用 a-&gt;</p>
<p>要把 token 数据永久存储-&gt; cookie/session/sessionStorage/localStorage 等-&gt;</p>
<p>使用 Html5 新特性 localStorage 保存 token</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把正确的用户的token保存起来</span></span><br><span class="line"><span class="comment">// 存值</span></span><br><span class="line">localStorage.setItem(<span class="string">"token"</span>, token);</span><br><span class="line"><span class="comment">// 取值</span></span><br><span class="line"><span class="comment">// const aa = localStorage.getItem("token");</span></span><br><span class="line"><span class="comment">// console.log(aa);</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>浏览器调试-&gt;application-&gt;cookie/localStorage 保存的数据</p>
</blockquote>
<h4 id="18-项目-首页-布局容器-使用-样式调整"><a href="#18-项目-首页-布局容器-使用-样式调整" class="headerlink" title="18-项目-首页-布局容器-使用-样式调整"></a>18-项目-首页-布局容器-使用-样式调整</h4><blockquote>
<p>引入布局容器</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-container</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-header</span>&gt;</span>Header<span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">class</span>=<span class="string">"aside"</span> <span class="attr">width</span>=<span class="string">"200px"</span>&gt;</span>Aside<span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>Main<span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>调整样式</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aside</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="19-项目-首页-头部-样式调整"><a href="#19-项目-首页-头部-样式调整" class="headerlink" title="19-项目-首页-头部-样式调整"></a>19-项目-首页-头部-样式调整</h4><blockquote>
<p>引入 layout 布局(24 份)</p>
<p>el-row 一行</p>
<p>el-col 一列</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"@/assets/logo.png"</span> <span class="attr">alt</span>=<span class="string">"图片加载失败"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"19"</span> <span class="attr">class</span>=<span class="string">"middle"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>电商后台管理系统<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"logout"</span>&gt;</span>退出<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="20-项目-合并代码-登录"><a href="#20-项目-合并代码-登录" class="headerlink" title="20-项目-合并代码-登录"></a>20-项目-合并代码-登录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 子分支</span><br><span class="line">git add .</span><br><span class="line">git commit -m ""</span><br><span class="line">// 切到主分支</span><br><span class="line">git checkout master</span><br><span class="line">// 合并代码</span><br><span class="line">git merge dev-login</span><br><span class="line">// 在master写代码</span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m "test"</span><br><span class="line">// 推送</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<blockquote>
<p>仓库地址链接</p>
<ol>
<li>下载</li>
<li>使用 git 指令克隆项目仓库 git clone 项目网址<a href="https://github.com/LL-1214/shopmanager64.git" target="_blank" rel="noopener">https://github.com/LL-1214/shopmanager64.git</a></li>
</ol>
</blockquote>
<h3 id="day08-项目-重点"><a href="#day08-项目-重点" class="headerlink" title="day08-项目-重点"></a>day08-项目-重点</h3><h4 id="01-项目-首页-侧边栏-导航组件-文档"><a href="#01-项目-首页-侧边栏-导航组件-文档" class="headerlink" title="01-项目-首页-侧边栏-导航组件-文档"></a>01-项目-首页-侧边栏-导航组件-文档</h4><blockquote>
<p>el-menu</p>
</blockquote>
<ol>
<li>router : 点击时 path 的值 index 值</li>
<li>unique-opened 控制是否只有一个子菜单打开<blockquote>
<p>el-submenu 子菜单</p>
</blockquote>
</li>
</ol>
<h4 id="02-项目-首页-侧边栏-引入导航组件-调整"><a href="#02-项目-首页-侧边栏-引入导航组件-调整" class="headerlink" title="02-项目-首页-侧边栏-引入导航组件-调整"></a>02-项目-首页-侧边栏-引入导航组件-调整</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-menu</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:unique-opened</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:router</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">default-active</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"el-menu-vertical-demo"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="03-项目-首页-进入首页的权限验证"><a href="#03-项目-首页-进入首页的权限验证" class="headerlink" title="03-项目-首页-进入首页的权限验证"></a>03-项目-首页-进入首页的权限验证</h4><blockquote>
<p>必须先登录,才显示 home.vue</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">beforeMount() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!localStorage.getItem(<span class="string">"token"</span>)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">        name: <span class="string">"login"</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.$message.warning(<span class="string">"请先登录"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="04-项目-首页-头部-退出功能"><a href="#04-项目-首页-头部-退出功能" class="headerlink" title="04-项目-首页-头部-退出功能"></a>04-项目-首页-头部-退出功能</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 退出</span></span><br><span class="line">    handleLoginout() &#123;</span><br><span class="line">      <span class="comment">// 1. 清除token</span></span><br><span class="line">      localStorage.clear();</span><br><span class="line">      <span class="comment">// 2. 来到登录</span></span><br><span class="line">      <span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">        name: <span class="string">"login"</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 3. 提示</span></span><br><span class="line">      <span class="keyword">this</span>.$message.warning(<span class="string">"退出成功"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="05-项目-首页-合并分支-新建用户分支"><a href="#05-项目-首页-合并分支-新建用户分支" class="headerlink" title="05-项目-首页-合并分支-新建用户分支"></a>05-项目-首页-合并分支-新建用户分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev-users</span><br><span class="line">git checkout master</span><br><span class="line">// 复习</span><br><span class="line">// 合并分支</span><br><span class="line">git merge 分支名</span><br></pre></td></tr></table></figure>
<h4 id="06-项目-用户管理-用户列表-新建组件-路由配置"><a href="#06-项目-用户管理-用户列表-新建组件-路由配置" class="headerlink" title="06-项目-用户管理-用户列表-新建组件-路由配置"></a>06-项目-用户管理-用户列表-新建组件-路由配置</h4><blockquote>
<p>嵌套路由<br>提供单独的 router-view<br>users.vue 是在 home.vue 里面显示的</p>
</blockquote>
<h4 id="07-项目-用户管理-用户列表-面包屑和搜索框"><a href="#07-项目-用户管理-用户列表-面包屑和搜索框" class="headerlink" title="07-项目-用户管理-用户列表-面包屑和搜索框"></a>07-项目-用户管理-用户列表-面包屑和搜索框</h4><blockquote>
<p>面包屑</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-breadcrumb</span> <span class="attr">separator-class</span>=<span class="string">"el-icon-arrow-right"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span> <span class="attr">:to</span>=<span class="string">"&#123; path: '/' &#125;"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 首页/用户管理/用户列表 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户列表<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-breadcrumb</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>el-card 带默认样式 div<br>el-row 行&gt;el-col 列</p>
</blockquote>
<h4 id="08-项目-用户管理-用户列表-引入表格组件"><a href="#08-项目-用户管理-用户列表-引入表格组件" class="headerlink" title="08-项目-用户管理-用户列表-引入表格组件"></a>08-项目-用户管理-用户列表-引入表格组件</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">"tableData"</span> <span class="attr">style</span>=<span class="string">"width: 100%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"date"</span> <span class="attr">label</span>=<span class="string">"日期"</span> <span class="attr">width</span>=<span class="string">"180"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"姓名"</span> <span class="attr">width</span>=<span class="string">"180"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"address"</span> <span class="attr">label</span>=<span class="string">"地址"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>el-table 表格 data 绑定数据[]<br>el-table-column 控制的是列</p>
</blockquote>
<ol>
<li>label 控制的是当前列的表头</li>
<li>prop 控制的是当前列单元格的数据,prop 的值来源于外层 data 绑定的数据 tableData 数组中对象的 key 名</li>
</ol>
<h4 id="09-项目-用户管理-用户列表-表头处理"><a href="#09-项目-用户管理-用户列表-表头处理" class="headerlink" title="09-项目-用户管理-用户列表-表头处理"></a>09-项目-用户管理-用户列表-表头处理</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">"list"</span> <span class="attr">style</span>=<span class="string">"width: 100%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"#"</span> <span class="attr">width</span>=<span class="string">"80"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"姓名"</span> <span class="attr">width</span>=<span class="string">"120"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"邮箱"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"电话"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"创建日期"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"用户状态"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"操作"</span> <span class="attr">width</span>=<span class="string">"200"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="10-项目-用户管理-用户列表-请求数据"><a href="#10-项目-用户管理-用户列表-请求数据" class="headerlink" title="10-项目-用户管理-用户列表-请求数据"></a>10-项目-用户管理-用户列表-请求数据</h4><blockquote>
<p>获取表格的数据</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">async</span> getTableData() &#123;</span><br><span class="line">     <span class="comment">// 除了登录请求.其他所有请求都需要授权-&gt;</span></span><br><span class="line">     <span class="comment">// 在发送请求之前,先设置请求头&#123;Authorization:token值&#125;</span></span><br><span class="line">     <span class="comment">// 设置请求头headers -&gt; 发送请求用的是axios-&gt;找axiosAPI有没有可以设置请求头-&gt;看文档</span></span><br><span class="line">     <span class="comment">// &#123;</span></span><br><span class="line">     <span class="comment">//   ContentType:text/html,</span></span><br><span class="line">     <span class="comment">//   Authorization:?</span></span><br><span class="line">     <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">const</span> AUTH_TOKEN = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line">     <span class="keyword">this</span>.$http.defaults.headers.common[<span class="string">"Authorization"</span>] = AUTH_TOKEN;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(</span><br><span class="line">       <span class="string">`users?query=<span class="subst">$&#123;<span class="keyword">this</span>.query&#125;</span>&amp;pagenum=<span class="subst">$&#123;<span class="keyword">this</span>.pagenum&#125;</span>&amp;pagesize=<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">         <span class="keyword">this</span>.pagesize</span></span></span><br><span class="line"><span class="string"><span class="subst">       &#125;</span>`</span></span><br><span class="line">     );</span><br><span class="line">     <span class="built_in">console</span>.log(res);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>接口说明,需要授权 API-&gt;除了登录接口,其他所有接口都需要授权,也就是设置头部</p>
</blockquote>
<h4 id="11-项目-用户管理-用户列表-渲染数据-一般数据"><a href="#11-项目-用户管理-用户列表-渲染数据-一般数据" class="headerlink" title="11-项目-用户管理-用户列表-渲染数据-一般数据"></a>11-项目-用户管理-用户列表-渲染数据-一般数据</h4><blockquote>
<p>单元格的数据有 2 个不同情况</p>
</blockquote>
<ol>
<li>直接就是 prop 属性值的值 比如 prop=”id”</li>
<li>单元格内容不是 prop 的值?</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"id"</span> <span class="attr">label</span>=<span class="string">"#"</span> <span class="attr">width</span>=<span class="string">"80"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"username"</span> <span class="attr">label</span>=<span class="string">"姓名"</span> <span class="attr">width</span>=<span class="string">"120"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"email"</span> <span class="attr">label</span>=<span class="string">"邮箱"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"mobile"</span> <span class="attr">label</span>=<span class="string">"电话"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prop</span>=<span class="string">"create_time"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">label</span>=<span class="string">"创建日期"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">"140"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="12-项目-用户管理-用户列表-渲染数据-日期格式处理"><a href="#12-项目-用户管理-用户列表-渲染数据-日期格式处理" class="headerlink" title="12-项目-用户管理-用户列表-渲染数据-日期格式处理"></a>12-项目-用户管理-用户列表-渲染数据-日期格式处理</h4><ol>
<li>全局过滤器</li>
<li>使用过滤器</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"创建日期"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span></span></span><br><span class="line"><span class="tag">    &gt;</span>&#123;scope.row.create_time | fmtdate&#125;<span class="tag">&lt;/<span class="name">template</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>前提:当单元格内容不是 prop 控制的</p>
</blockquote>
<ol>
<li>给单元格内容外层加 template</li>
<li>设置 template 的属性 slot-scope=”scope”</li>
<li>在单元格内部通过 scope.row.属性 取值<blockquote>
<p>注意: 固定写法, row 固定, “scope”可以随便写</p>
</blockquote>
</li>
</ol>
<h4 id="13-项目-用户管理-用户列表-渲染数据-用户状态开关"><a href="#13-项目-用户管理-用户列表-渲染数据-用户状态开关" class="headerlink" title="13-项目-用户管理-用户列表-渲染数据-用户状态开关"></a>13-项目-用户管理-用户列表-渲染数据-用户状态开关</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"用户状态"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-switch</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">"scope.row.mg_state"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">active-color</span>=<span class="string">"#13ce66"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">inactive-color</span>=<span class="string">"#ff4949"</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>和创建日期的处理是一样的情况</p>
</blockquote>
<ol>
<li>加 template</li>
<li>slot-scope</li>
<li>使用 scope.row.属性</li>
</ol>
<h4 id="14-项目-用户管理-用户列表-渲染数据-操作"><a href="#14-项目-用户管理-用户列表-渲染数据-操作" class="headerlink" title="14-项目-用户管理-用户列表-渲染数据-操作"></a>14-项目-用户管理-用户列表-渲染数据-操作</h4><blockquote>
<p>单元格内容不是 prop 的值的值</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"操作"</span> <span class="attr">width</span>=<span class="string">"200"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tempalte</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"primary"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-edit"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"danger"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-delete"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"success"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-check"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tempalte</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="15-项目-用户管理-用户列表-分页组件-文档-引入"><a href="#15-项目-用户管理-用户列表-分页组件-文档-引入" class="headerlink" title="15-项目-用户管理-用户列表-分页组件-文档-引入"></a>15-项目-用户管理-用户列表-分页组件-文档-引入</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 分页</span></span><br><span class="line"><span class="comment">    @size-change 每页条数改变时</span></span><br><span class="line"><span class="comment">    @current-change 页码改变时 (当前1页 点击2页 )</span></span><br><span class="line"><span class="comment">    current-page 当前显示第几页 页码</span></span><br><span class="line"><span class="comment">    page-sizes 每页条数的不同情况的数组</span></span><br><span class="line"><span class="comment">    layout 附加功能</span></span><br><span class="line"><span class="comment">    total 一共数据的条数</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">size-change</span>=<span class="string">"handleSizeChange"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">current-change</span>=<span class="string">"handleCurrentChange"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:current-page</span>=<span class="string">"currentPage4"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-sizes</span>=<span class="string">"[100, 200, 300, 400]"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-size</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">layout</span>=<span class="string">"total, sizes, prev, pager, next, jumper"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:total</span>=<span class="string">"400"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="16-项目-用户管理-用户列表-分页组件-配置数据"><a href="#16-项目-用户管理-用户列表-分页组件-配置数据" class="headerlink" title="16-项目-用户管理-用户列表-分页组件-配置数据"></a>16-项目-用户管理-用户列表-分页组件-配置数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"page"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">size-change</span>=<span class="string">"handleSizeChange"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">current-change</span>=<span class="string">"handleCurrentChange"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:current-page</span>=<span class="string">"pagenum"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-sizes</span>=<span class="string">"[2, 4,6,8]"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-size</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">layout</span>=<span class="string">"total, sizes, prev, pager, next, jumper"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:total</span>=<span class="string">"total"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>total 后台已经返回</p>
</blockquote>
<h4 id="17-项目-用户管理-用户列表-分页组件-分页请求"><a href="#17-项目-用户管理-用户列表-分页组件-分页请求" class="headerlink" title="17-项目-用户管理-用户列表-分页组件-分页请求"></a>17-项目-用户管理-用户列表-分页组件-分页请求</h4><ol>
<li>点击页码-&gt; 按照新页码发送请求</li>
<li>点击每页条数 -&gt; 按照新的 pagesize 发送请求</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">handleSizeChange(val) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`每页 <span class="subst">$&#123;val&#125;</span> 条`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 按照新pagesize发送请求</span></span><br><span class="line">      <span class="keyword">this</span>.pagenum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.pagesize = val;</span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 当前2页 -&gt; 点击3 -&gt;触发下面的方法 -&gt;val = 3</span></span><br><span class="line">    handleCurrentChange(val) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`当前页: <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">      <span class="comment">// 按照新页码发送请求</span></span><br><span class="line">      <span class="keyword">this</span>.pagenum = val;</span><br><span class="line">      <span class="comment">// this.pagemnum = 1 this.pagesize=2 发送请求</span></span><br><span class="line">      <span class="comment">// this.pagenum=3 this.pagesize=2 发送请求</span></span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>测试,this.pagenum=1</p>
</blockquote>
<h4 id="18-项目-用户管理-用户列表-搜索用户"><a href="#18-项目-用户管理-用户列表-搜索用户" class="headerlink" title="18-项目-用户管理-用户列表-搜索用户"></a>18-项目-用户管理-用户列表-搜索用户</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 搜索-清空时获取所有用户</span></span><br><span class="line">   getAllUsers() &#123;</span><br><span class="line">     <span class="keyword">this</span>.getTableData();</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">// 搜索用户</span></span><br><span class="line">   searchUser() &#123;</span><br><span class="line">     <span class="keyword">this</span>.pagenum = <span class="number">1</span>;</span><br><span class="line">     <span class="comment">// 按照query关键字搜索</span></span><br><span class="line">     <span class="comment">// query="admin"</span></span><br><span class="line">     <span class="keyword">this</span>.getTableData();</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>不要忘记重置 this.pagenum=1</p>
</blockquote>
<h4 id="19-项目-用户管理-用户列表-添加用户-显示对话框"><a href="#19-项目-用户管理-用户列表-添加用户-显示对话框" class="headerlink" title="19-项目-用户管理-用户列表-添加用户-显示对话框"></a>19-项目-用户管理-用户列表-添加用户-显示对话框</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">title</span>=<span class="string">"添加用户"</span> <span class="attr">:visible.sync</span>=<span class="string">"dialogFormVisibleAdd"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 表单 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-position</span>=<span class="string">"left"</span> <span class="attr">label-width</span>=<span class="string">"80px"</span> <span class="attr">:model</span>=<span class="string">"formdata"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"用户名"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.username"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"密码"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.password"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"邮箱"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.email"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"电话"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.mobile"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"footer"</span> <span class="attr">class</span>=<span class="string">"dialog-footer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"dialogFormVisibleAdd = false"</span>&gt;</span>取 消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span> @<span class="attr">click</span>=<span class="string">"dialogFormVisibleAdd = false"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>确 定<span class="tag">&lt;/<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>点击按钮-&gt;改 bool</li>
<li>引入对话框</li>
<li>配置数据(对话框和 form 数据)<blockquote>
<p>表单数据依据发送 post 请求体</p>
</blockquote>
</li>
</ol>
<h2 id="Vue-项目-重点-1"><a href="#Vue-项目-重点-1" class="headerlink" title="Vue-项目-重点"></a>Vue-项目-重点</h2><h3 id="day07-项目-重点-1"><a href="#day07-项目-重点-1" class="headerlink" title="day07-项目-重点"></a>day07-项目-重点</h3><h4 id="01-项目-准备-vue-cli-创建项目结构-1"><a href="#01-项目-准备-vue-cli-创建项目结构-1" class="headerlink" title="01-项目-准备-vue-cli 创建项目结构"></a>01-项目-准备-vue-cli 创建项目结构</h4><ol>
<li>来到项目期望的目录-&gt;打开 cmd</li>
<li>vue init webpack 项目名<ol>
<li>是否使用路由 -&gt; Y</li>
<li>是否使用 ESLint(检查代码规范) -&gt; Y</li>
<li>for most users</li>
</ol>
</li>
<li>cd 项目名</li>
<li>npm run dev(默认不会打开浏览器)</li>
</ol>
<h4 id="02-项目-准备-项目目录说明-1"><a href="#02-项目-准备-项目目录说明-1" class="headerlink" title="02-项目-准备-项目目录说明"></a>02-项目-准备-项目目录说明</h4><ol>
<li>build/ webpack 打包的产物/结果</li>
<li>config/ 配置服务器 -&gt;<ol>
<li>index.js -&gt; autoOpenBrowser: true, -&gt; npm run dev</li>
</ol>
</li>
<li>.eslintrc:配置 ESLint</li>
<li>.eslintignore: ESLint 忽略文件</li>
<li>index.html -&gt; 注意: 不需要引入 build.js</li>
</ol>
<h4 id="03-项目-准备-代码规范-自定义指令-lintfix-1"><a href="#03-项目-准备-代码规范-自定义指令-lintfix-1" class="headerlink" title="03-项目-准备-代码规范-自定义指令-lintfix"></a>03-项目-准备-代码规范-自定义指令-lintfix</h4><blockquote>
<p>ESLint 自动检测 js 代码的规范</p>
<ol>
<li>结尾没有;</li>
<li>必须===</li>
<li>单引号</li>
<li>不能有未使用变量</li>
<li>缩进</li>
<li>不能有多余空行</li>
<li>等</li>
</ol>
</blockquote>
<ol>
<li>package.json-&gt;scripts-&gt;自定义指令</li>
<li>​ “lintfix”: “eslint –ext .js,.vue src –fix”,</li>
<li>npm run lintfix(未使用)</li>
<li>npm run dev(启动开发模式)</li>
</ol>
<h4 id="04-项目-准备-element-ui-文档分析-1"><a href="#04-项目-准备-element-ui-文档分析-1" class="headerlink" title="04-项目-准备-element-ui-文档分析"></a>04-项目-准备-element-ui-文档分析</h4><blockquote>
<p>饿了么 web 开发团队 vue UI 库 Element</p>
<p>ElementUI 适用于 vue2+项目并且 PC 端项目</p>
</blockquote>
<blockquote>
<p>扩展: vue 移动端 web -&gt; Mint-ui</p>
<p>PC 端 UI 库: iView</p>
</blockquote>
<h4 id="05-项目-准备-element-ui-安装-引入-1"><a href="#05-项目-准备-element-ui-安装-引入-1" class="headerlink" title="05-项目-准备-element-ui-安装-引入"></a>05-项目-准备-element-ui-安装-引入</h4><p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">"element-ui"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"element-ui/lib/theme-chalk/index.css"</span>;</span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>可以在任何一个.vue 文件的 template 通过组件名使用组件</p>
</blockquote>
<h4 id="06-项目-准备-项目模板简化-调整-1"><a href="#06-项目-准备-项目模板简化-调整-1" class="headerlink" title="06-项目-准备-项目模板简化-调整"></a>06-项目-准备-项目模板简化-调整</h4><blockquote>
<p>简化模板</p>
</blockquote>
<h4 id="07-项目-准备-git-版本控制-1"><a href="#07-项目-准备-git-版本控制-1" class="headerlink" title="07-项目-准备-git-版本控制"></a>07-项目-准备-git-版本控制</h4><blockquote>
<p>第一次使用 git</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//</span><br><span class="line">git init</span><br><span class="line">//</span><br><span class="line">git add .</span><br><span class="line">//</span><br><span class="line">git commit -m "初始化项目"</span><br><span class="line">// 新建远程仓库-&gt;关联仓库</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>完成一个小功能,提交/推送代码</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "注释"</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<blockquote>
<p>gitbash -&gt; git 指令操作-&gt; 任何 cmd 执行 git 指令-&gt;git 是无效指令-&gt; 配置 windows 系统的环境变量</p>
<ol>
<li>找到 git 安装位置 2.修改计算技属性-&gt;path 全局变量</li>
</ol>
<p>注意: 如果不想改全局 path , 可以在 gitbash 中使用 git</p>
</blockquote>
<blockquote>
<p>每完成一个小功能 提交 commit 一次</p>
<p>每完成大功能 push 一次</p>
</blockquote>
<h4 id="08-项目-准备-git-分支管理-1"><a href="#08-项目-准备-git-分支管理-1" class="headerlink" title="08-项目-准备-git-分支管理"></a>08-项目-准备-git-分支管理</h4><blockquote>
<p>管理代码-&gt; 合并代码</p>
</blockquote>
<blockquote>
<p>项目 3 个人-&gt; 区分代码是谁写的?-&gt;新建分支</p>
</blockquote>
<blockquote>
<p>每个分支管理自己的代码 有默认分支-&gt;git branch</p>
</blockquote>
<blockquote>
<p>主分支 master:git push</p>
<p>新建子分支 A-&gt;编写代码-&gt;编码完成-&gt;add/commit -&gt; 提交 A-&gt;</p>
<p>切换到 master 分支-&gt;合并代码 git merge</p>
<p>新建子分支 B-&gt;编写代码-&gt;编码完成-&gt;add/commit -&gt; 提交 B-&gt;</p>
<p>切换到 master 分支-&gt;合并代码 git merge</p>
</blockquote>
<blockquote>
<p>结论: master/ dev-login /dev-users</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 检查分支</span><br><span class="line">git branch</span><br><span class="line">// 新建分支并且切换到该分支</span><br><span class="line">// dev-login用来实现项目登录功能</span><br><span class="line">git checkout -b 分支名(dev-login)</span><br><span class="line">// 接下来所有代码操作都是在dev-login分支上</span><br></pre></td></tr></table></figure>
<h4 id="09-项目-登录-新建分支-login-组件-配置路由-1"><a href="#09-项目-登录-新建分支-login-组件-配置路由-1" class="headerlink" title="09-项目-登录-新建分支-login 组件-配置路由"></a>09-项目-登录-新建分支-login 组件-配置路由</h4><blockquote>
<p>在 dev-login 分支上</p>
</blockquote>
<ol>
<li>新建 login.vue 组件</li>
<li>配置路由</li>
<li>新建 home.vue 组件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;登录-配置路由&quot;</span><br><span class="line">// 切换master到分支</span><br><span class="line">git checkout master</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在 master 主分支操作(git push)</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 合并代码: 把dev-login的代码合并到master分支上</span><br><span class="line">git merge dev-login</span><br><span class="line">// 检查状态</span><br><span class="line">git status</span><br><span class="line">// 如果status有问题</span><br><span class="line">git add .</span><br><span class="line">git coimmit -m ""</span><br><span class="line">// 如果status没问题</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<blockquote>
<p>推送完, 切换回 dev-login 分支</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev-login</span><br></pre></td></tr></table></figure>
<h4 id="10-项目-登录-引入表单组件-1"><a href="#10-项目-登录-引入表单组件-1" class="headerlink" title="10-项目-登录-引入表单组件"></a>10-项目-登录-引入表单组件</h4><p><code>login.vue</code></p>
<ol>
<li>找表单组件</li>
<li>复制代码-&gt;提供数据 formdata:{}</li>
<li>提供了类名-&gt;测试</li>
<li>git branch / git status / git add ./ git commit -m “balabala</li>
</ol>
<h4 id="11-项目-登录-样式调整-1"><a href="#11-项目-登录-样式调整-1" class="headerlink" title="11-项目-登录-样式调整"></a>11-项目-登录-样式调整</h4><ol>
<li>assets/css/base.css</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>App.vue</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>login.vue</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.login-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#324152</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-form</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.login-btn</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: css 样式不是重点!</p>
<p>扩展: 企业开发, 设计图 psd 会有尺寸/字号/色号…</p>
</blockquote>
<h4 id="12-项目-登录-axios-插件-1"><a href="#12-项目-登录-axios-插件-1" class="headerlink" title="12-项目-登录-axios 插件"></a>12-项目-登录-axios 插件</h4><ol>
<li>npm i axios</li>
<li>main.js 导入 axios+配置 baseURL</li>
<li>login.vue-&gt;发送请求</li>
</ol>
<h4 id="13-项目-登录-发送登录请求-1"><a href="#13-项目-登录-发送登录请求-1" class="headerlink" title="13-项目-登录-发送登录请求"></a>13-项目-登录-发送登录请求</h4><p><code>login.vue</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">handlelogin() &#123;</span><br><span class="line">     <span class="keyword">this</span>.$http</span><br><span class="line">       .post(<span class="string">`login`</span>, <span class="keyword">this</span>.formdata)</span><br><span class="line">       .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res);</span><br><span class="line">         <span class="keyword">const</span> &#123;</span><br><span class="line">           data: &#123;</span><br><span class="line">             data,</span><br><span class="line">             meta: &#123; msg, status &#125;</span><br><span class="line">           &#125;</span><br><span class="line">         &#125; = res;</span><br><span class="line">         <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">"login---success----"</span>);</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">"error----"</span>);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// eg</span></span><br><span class="line">         <span class="comment">// const &#123;per&#125; = &#123;per:"abc"&#125;</span></span><br><span class="line">         <span class="comment">// console.log(per)</span></span><br><span class="line">         <span class="comment">// const &#123;name:newname&#125; = &#123;name:'abc'&#125;</span></span><br><span class="line">         <span class="comment">// console.log(newname);</span></span><br><span class="line">       &#125;)</span><br><span class="line">       .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(err);</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "注释"</span><br></pre></td></tr></table></figure>
<h4 id="14-项目-登录-引入提示框组件-1"><a href="#14-项目-登录-引入提示框组件-1" class="headerlink" title="14-项目-登录-引入提示框组件"></a>14-项目-登录-引入提示框组件</h4><blockquote>
<p>username 或者 password 错误 -&gt; 提示框</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$message.error(msg);</span><br></pre></td></tr></table></figure>
<h4 id="15-项目-登录-登录成功-进入-home-组件-1"><a href="#15-项目-登录-登录成功-进入-home-组件-1" class="headerlink" title="15-项目-登录-登录成功-进入 home 组件"></a>15-项目-登录-登录成功-进入 home 组件</h4><p><code>login.vue</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">  name: <span class="string">"home"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充: ES6 对象解构赋值</p>
<p>数组</p>
<p>对象(const {per:{name} = {per:{name:’abc’}) -&gt; log(name)</p>
</blockquote>
<h4 id="16-项目-登录-简化登录请求代码-async-和-await-1"><a href="#16-项目-登录-简化登录请求代码-async-和-await-1" class="headerlink" title="16-项目-登录-简化登录请求代码-async 和 await"></a>16-项目-登录-简化登录请求代码-async 和 await</h4><blockquote>
<p>async+await 简化代码:把异步代码变得像同步</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> handlelogin() &#123;</span><br><span class="line">    <span class="comment">// 目前代码: 异步的结果res在一个函数里面获取的</span></span><br><span class="line">    <span class="comment">// 目的: res的获取是同步</span></span><br><span class="line">    <span class="comment">// const res = axios请求返回的结果</span></span><br><span class="line">    <span class="comment">// console.log(res)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.post(<span class="string">`login`</span>, <span class="keyword">this</span>.formdata)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>步骤</p>
</blockquote>
<ol>
<li>找到异步代码 前面加 await 接收异步结果 const res</li>
<li>找到异步代码最近的外层函数 , 前面加 async</li>
</ol>
<blockquote>
<p>目的: 简化代码</p>
</blockquote>
<h4 id="17-项目-登录-保存-token-值-1"><a href="#17-项目-登录-保存-token-值-1" class="headerlink" title="17-项目-登录-保存 token 值"></a>17-项目-登录-保存 token 值</h4><blockquote>
<p>将来要使用用户 token 数据,把正确用户 token 存储-&gt;cookie/session/sessionStorage/localStorage(存储体积大的数据)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem(<span class="string">"token"</span>, token);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>浏览器控制台 application-&gt;storage</p>
</blockquote>
<h4 id="18-项目-首页-布局容器-样式调整"><a href="#18-项目-首页-布局容器-样式调整" class="headerlink" title="18-项目-首页-布局容器-样式调整"></a>18-项目-首页-布局容器-样式调整</h4><blockquote>
<p>引入 UI 库布局容器</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-container</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-header</span>&gt;</span>Header<span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">class</span>=<span class="string">"aside"</span> <span class="attr">width</span>=<span class="string">"200px"</span>&gt;</span>Aside<span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-main</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span>Main<span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="19-项目-首页-头部-样式调整-1"><a href="#19-项目-首页-头部-样式调整-1" class="headerlink" title="19-项目-首页-头部-样式调整"></a>19-项目-首页-头部-样式调整</h4><blockquote>
<p>el-row(行)&gt;el-col(列) 24 份</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#b3c0d1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.middle</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aside</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.loginout</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意</p>
</blockquote>
<ol>
<li>找组件</li>
<li>提供数据</li>
<li>布局</li>
<li>样式</li>
</ol>
<h3 id="day08-项目-重点-1"><a href="#day08-项目-重点-1" class="headerlink" title="day08-项目-重点"></a>day08-项目-重点</h3><h4 id="01-项目-首页-侧边栏-导航组件-文档-1"><a href="#01-项目-首页-侧边栏-导航组件-文档-1" class="headerlink" title="01-项目-首页-侧边栏-导航组件-文档"></a>01-项目-首页-侧边栏-导航组件-文档</h4><blockquote>
<p>el-menu router 属性</p>
<p>el-submenu index 属性</p>
</blockquote>
<h4 id="02-项目-首页-侧边栏-引入导航组件-调整-1"><a href="#02-项目-首页-侧边栏-引入导航组件-调整-1" class="headerlink" title="02-项目-首页-侧边栏-引入导航组件-调整"></a>02-项目-首页-侧边栏-引入导航组件-调整</h4><p><code>home.vue侧边栏</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-submenu</span> <span class="attr">index</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"el-icon-location"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">"1-1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"el-icon-menu"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    用户列表</span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-submenu</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="03-项目-首页-进入首页的权限验证-1"><a href="#03-项目-首页-进入首页的权限验证-1" class="headerlink" title="03-项目-首页-进入首页的权限验证"></a>03-项目-首页-进入首页的权限验证</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">beforeMount() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"beforeMount----"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!localStorage.getItem(<span class="string">"token"</span>)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">        name: <span class="string">"login"</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果登录了-&gt;渲染 home.vue</p>
<p>如果没登录-&gt;来到 login.vue-&gt;登录</p>
</blockquote>
<h4 id="04-项目-首页-头部-退出功能-1"><a href="#04-项目-首页-头部-退出功能-1" class="headerlink" title="04-项目-首页-头部-退出功能"></a>04-项目-首页-头部-退出功能</h4><blockquote>
<p>点击头部的退出按钮</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">handleLoginout() &#123;</span><br><span class="line">     <span class="comment">// 1. 清除token</span></span><br><span class="line">     localStorage.clear();</span><br><span class="line">     <span class="comment">// 2. 跳转到login</span></span><br><span class="line">     <span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">       name: <span class="string">"login"</span></span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="comment">// 提示</span></span><br><span class="line">     <span class="keyword">this</span>.$message.warning(<span class="string">"退出成功"</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="05-项目-首页-合并分支-新建用户分支-1"><a href="#05-项目-首页-合并分支-新建用户分支-1" class="headerlink" title="05-项目-首页-合并分支-新建用户分支"></a>05-项目-首页-合并分支-新建用户分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m ""</span><br><span class="line">// 新功能 新建分支</span><br><span class="line">git checkout -b dev-users</span><br><span class="line">// 接下来 开发新功能</span><br></pre></td></tr></table></figure>
<h4 id="06-项目-用户管理-用户列表-新建组件-路由配置-1"><a href="#06-项目-用户管理-用户列表-新建组件-路由配置-1" class="headerlink" title="06-项目-用户管理-用户列表-新建组件-路由配置"></a>06-项目-用户管理-用户列表-新建组件-路由配置</h4><ol>
<li>改标识 index=’users’</li>
<li>提供容器 router-view(在 home.vue 的 main 位置)</li>
<li>新建 users.vue</li>
<li>配置路由(嵌套路由-&gt;在 home 匹配成功之上)</li>
<li>测试</li>
</ol>
<h4 id="07-项目-用户管理-用户列表-面包屑和搜索框-1"><a href="#07-项目-用户管理-用户列表-面包屑和搜索框-1" class="headerlink" title="07-项目-用户管理-用户列表-面包屑和搜索框"></a>07-项目-用户管理-用户列表-面包屑和搜索框</h4><ol>
<li>el-card 小容器</li>
<li>面包屑</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-breadcrumb</span> <span class="attr">separator-class</span>=<span class="string">"el-icon-arrow-right"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span> <span class="attr">:to</span>=<span class="string">"&#123; path: '/' &#125;"</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户管理<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>用户列表<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-breadcrumb</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>搜索框</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">"searchBox"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">class</span>=<span class="string">"searchInput"</span> <span class="attr">placeholder</span>=<span class="string">"请输入内容"</span> <span class="attr">v-model</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">slot</span>=<span class="string">"append"</span> <span class="attr">icon</span>=<span class="string">"el-icon-search"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span>&gt;</span>添加用户<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="08-项目-用户管理-用户列表-引入表格组件-1"><a href="#08-项目-用户管理-用户列表-引入表格组件-1" class="headerlink" title="08-项目-用户管理-用户列表-引入表格组件"></a>08-项目-用户管理-用户列表-引入表格组件</h4><blockquote>
<p>el-table</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">"tableData"</span> <span class="attr">style</span>=<span class="string">"width: 100%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"名字222"</span> <span class="attr">width</span>=<span class="string">"180"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"name"</span> <span class="attr">label</span>=<span class="string">"姓名"</span> <span class="attr">width</span>=<span class="string">"180"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"address"</span> <span class="attr">label</span>=<span class="string">"地址"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>el-table data 属性-&gt;控制的该表格的数据</li>
<li>el-table-column 控制的是列<br>2.1 label 控制的是表头<br>2.2 prop 控制的单元格的内容</li>
</ol>
<h4 id="09-项目-用户管理-用户列表-表头处理-1"><a href="#09-项目-用户管理-用户列表-表头处理-1" class="headerlink" title="09-项目-用户管理-用户列表-表头处理"></a>09-项目-用户管理-用户列表-表头处理</h4><blockquote>
<p>调整表头 label 7 列</p>
</blockquote>
<h4 id="10-项目-用户管理-用户列表-请求数据-1"><a href="#10-项目-用户管理-用户列表-请求数据-1" class="headerlink" title="10-项目-用户管理-用户列表-请求数据"></a>10-项目-用户管理-用户列表-请求数据</h4><blockquote>
<p>接口文档-&gt;除了登录之外的所有 API 请求-&gt;都需要授权-&gt;设置请求头</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> getTableData() &#123;</span><br><span class="line">      <span class="comment">// query	查询参数	可以为空</span></span><br><span class="line">      <span class="comment">// pagenum	当前页码	不能为空</span></span><br><span class="line">      <span class="comment">// pagesize	每页显示条数	不能为空</span></span><br><span class="line">      <span class="comment">// 设置发送请求时的请求头-&gt; axios库 -&gt;找axios中有没有可以设置headers头部的API-&gt;看axios文档</span></span><br><span class="line">      <span class="comment">//</span></span><br><span class="line">      <span class="keyword">const</span> AUTH_TOKEN = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line">      <span class="comment">// console.log(AUTH_TOKEN);</span></span><br><span class="line">      <span class="keyword">this</span>.$http.defaults.headers.common[<span class="string">"Authorization"</span>] = AUTH_TOKEN;</span><br><span class="line">      <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(</span><br><span class="line">        <span class="string">`users?query=<span class="subst">$&#123;<span class="keyword">this</span>.query&#125;</span>&amp;pagenum=<span class="subst">$&#123;<span class="keyword">this</span>.pagenum&#125;</span>&amp;pagesize=<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="string"><span class="subst">          <span class="keyword">this</span>.pagesize</span></span></span><br><span class="line"><span class="string"><span class="subst">        &#125;</span>`</span></span><br><span class="line">      );</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="11-项目-用户管理-用户列表-渲染数据-一般数据-1"><a href="#11-项目-用户管理-用户列表-渲染数据-一般数据-1" class="headerlink" title="11-项目-用户管理-用户列表-渲染数据-一般数据"></a>11-项目-用户管理-用户列表-渲染数据-一般数据</h4><blockquote>
<p>单元格中的数据两类</p>
</blockquote>
<ol>
<li>一般数据 prop 的属性值</li>
<li>特殊数据 不是 prop 的属性值 而是一些组件</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"id"</span> <span class="attr">label</span>=<span class="string">"#"</span> <span class="attr">width</span>=<span class="string">"80"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"username"</span> <span class="attr">label</span>=<span class="string">"姓名"</span> <span class="attr">width</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"email"</span> <span class="attr">label</span>=<span class="string">"邮箱"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">"mobile"</span> <span class="attr">label</span>=<span class="string">"电话"</span> <span class="attr">width</span>=<span class="string">"140"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prop</span>=<span class="string">"create_time"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">label</span>=<span class="string">"创建日期"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">"200"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="12-项目-用户管理-用户列表-渲染数据-日期格式处理-1"><a href="#12-项目-用户管理-用户列表-渲染数据-日期格式处理-1" class="headerlink" title="12-项目-用户管理-用户列表-渲染数据-日期格式处理"></a>12-项目-用户管理-用户列表-渲染数据-日期格式处理</h4><blockquote>
<p>日期需要处理 -&gt; 过滤器 -&gt; 两类(全局 Vue.filter 和局部)三步-&gt;1. v-bind 后面 2{msg | 名字}<br>前提:如果单元格数据不是 prop 的值,此时</p>
</blockquote>
<ol>
<li>给内容外层加 template</li>
<li>设置 template 的 slot-scope=”scope”</li>
<li>内部通过 scope.row.属性名访问数据<blockquote>
<p>注意: “scope”可以随便命名,自动找外层数据 list</p>
</blockquote>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"创建日期"</span> <span class="attr">width</span>=<span class="string">"200"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 内层 list.row 表示的是list的每个对象--&gt;</span></span><br><span class="line">    &#123;scope.row.create_time|fmtdate&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="13-项目-用户管理-用户列表-渲染数据-用户状态开关-1"><a href="#13-项目-用户管理-用户列表-渲染数据-用户状态开关-1" class="headerlink" title="13-项目-用户管理-用户列表-渲染数据-用户状态开关"></a>13-项目-用户管理-用户列表-渲染数据-用户状态开关</h4><blockquote>
<p>el-swtich 开关组件 表单元素 v-model=””</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"用户状态"</span> <span class="attr">width</span>=<span class="string">"120"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 前提: 单元格内容是一个组件, 不是porp的值 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-switch</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">"scope.row.mg_state"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">active-color</span>=<span class="string">"#13ce66"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">inactive-color</span>=<span class="string">"#ff4949"</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-switch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>当通过页面操作 点击开关-&gt;会让 mg_state 的值变化</p>
</blockquote>
<h4 id="14-项目-用户管理-用户列表-渲染数据-操作-1"><a href="#14-项目-用户管理-用户列表-渲染数据-操作-1" class="headerlink" title="14-项目-用户管理-用户列表-渲染数据-操作"></a>14-项目-用户管理-用户列表-渲染数据-操作</h4><blockquote>
<p>如果单元格内容不是 porp, 加 tempalte 设置 slot-scope</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"操作"</span> <span class="attr">width</span>=<span class="string">"200"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"primary"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-edit"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"danger"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-delete"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">"success"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">icon</span>=<span class="string">"el-icon-check"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circle</span></span></span><br><span class="line"><span class="tag">      <span class="attr">size</span>=<span class="string">"mini"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">plain</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="15-项目-用户管理-用户列表-分页组件-文档-引入-1"><a href="#15-项目-用户管理-用户列表-分页组件-文档-引入-1" class="headerlink" title="15-项目-用户管理-用户列表-分页组件-文档-引入"></a>15-项目-用户管理-用户列表-分页组件-文档-引入</h4><blockquote>
<p>分页组件 - 文档</p>
</blockquote>
<ol>
<li>@size-change 每页条数改变时</li>
<li>@current-change 原来是第一页,点击 2 页</li>
<li>current-page 当前页码</li>
<li>total 总条数</li>
</ol>
<h4 id="16-项目-用户管理-用户列表-分页组件-配置数据-1"><a href="#16-项目-用户管理-用户列表-分页组件-配置数据-1" class="headerlink" title="16-项目-用户管理-用户列表-分页组件-配置数据"></a>16-项目-用户管理-用户列表-分页组件-配置数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">size-change</span>=<span class="string">"handleSizeChange"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">current-change</span>=<span class="string">"handleCurrentChange"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:current-page</span>=<span class="string">"pagenum"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-sizes</span>=<span class="string">"[2, 4, 6, 8]"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:page-size</span>=<span class="string">"2"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">layout</span>=<span class="string">"total, sizes, prev, pager, next, jumper"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:total</span>=<span class="string">"total"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>res 中有 total this.total=data.total</p>
</blockquote>
<h4 id="17-项目-用户管理-用户列表-分页组件-分页请求-1"><a href="#17-项目-用户管理-用户列表-分页组件-分页请求-1" class="headerlink" title="17-项目-用户管理-用户列表-分页组件-分页请求"></a>17-项目-用户管理-用户列表-分页组件-分页请求</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">handleSizeChange(val) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`每页 <span class="subst">$&#123;val&#125;</span> 条`</span>);</span><br><span class="line">      <span class="keyword">this</span>.pagenum = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">this</span>.pagesize = val;</span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 当前1页 -&gt; 点击2页 -&gt; 获取第二页数据</span></span><br><span class="line">    handleCurrentChange(val) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`当前页: <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line">      <span class="comment">// 根据新页码发送请求</span></span><br><span class="line">      <span class="keyword">this</span>.pagenum = val;</span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>pagenum1 pagesize2 -&gt; 获取数据库中前两条数据<br>pagenum=3 pagesize=3 -&gt; 获取数据库中第 7/8/9 条数据</p>
</blockquote>
<h4 id="18-项目-用户管理-用户列表-搜索用户-1"><a href="#18-项目-用户管理-用户列表-搜索用户-1" class="headerlink" title="18-项目-用户管理-用户列表-搜索用户"></a>18-项目-用户管理-用户列表-搜索用户</h4><ol>
<li>搜索用户</li>
<li>清空<blockquote>
<p>不要忘记 this.pagenum=1</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 清空时获取所有用户</span></span><br><span class="line">    getAllUsers() &#123;</span><br><span class="line">      <span class="comment">// 此时 query查询参数已经是''</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 搜索用户</span></span><br><span class="line">    searchUser() &#123;</span><br><span class="line">      <span class="comment">// 输入框组件-&gt;在组件文本清空时-&gt;做一些事儿</span></span><br><span class="line">      <span class="comment">// query数据默认 ''</span></span><br><span class="line">      <span class="keyword">this</span>.pagenum = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">this</span>.getTableData();</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="19-项目-用户管理-用户列表-添加用户-显示对话框-1"><a href="#19-项目-用户管理-用户列表-添加用户-显示对话框-1" class="headerlink" title="19-项目-用户管理-用户列表-添加用户-显示对话框"></a>19-项目-用户管理-用户列表-添加用户-显示对话框</h4><blockquote>
<p>点击按钮-&gt;打开对话框</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">title</span>=<span class="string">"收货地址"</span> <span class="attr">:visible.sync</span>=<span class="string">"dialogFormVisibleAdd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-position</span>=<span class="string">"left"</span> <span class="attr">label-width</span>=<span class="string">"80px"</span> <span class="attr">:model</span>=<span class="string">"formdata"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"用户名"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.username"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"密码"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.password"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"邮箱"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.email"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"电话"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"formdata.mobile"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"footer"</span> <span class="attr">class</span>=<span class="string">"dialog-footer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"dialogFormVisibleAdd = false"</span>&gt;</span>取 消<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span> @<span class="attr">click</span>=<span class="string">"dialogFormVisibleAdd = false"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>确 定<span class="tag">&lt;/<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>复制代码 2. 提供/配置属性或者方法 3. 使用</li>
</ol>
</blockquote>
<h3 id="day09-项目-重点"><a href="#day09-项目-重点" class="headerlink" title="day09-项目-重点"></a>day09-项目-重点</h3><h4 id="01-项目-用户管理-用户列表-添加用户-发送请求"><a href="#01-项目-用户管理-用户列表-添加用户-发送请求" class="headerlink" title="01-项目-用户管理-用户列表-添加用户-发送请求"></a>01-项目-用户管理-用户列表-添加用户-发送请求</h4><blockquote>
<p>点击确定-&gt;发送请求</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> addUser() &#123;</span><br><span class="line">     <span class="comment">// 发送请求</span></span><br><span class="line">     <span class="comment">// this.formdata?</span></span><br><span class="line">     <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.post(<span class="string">`users`</span>, <span class="keyword">this</span>.formdata);</span><br><span class="line">     <span class="built_in">console</span>.log(res);</span><br><span class="line">     <span class="keyword">const</span> &#123;</span><br><span class="line">       meta: &#123; msg, status &#125;</span><br><span class="line">     &#125; = res.data;</span><br><span class="line">     <span class="keyword">if</span> (status === <span class="number">201</span>) &#123;</span><br><span class="line">       <span class="comment">// 关闭对话框</span></span><br><span class="line">       <span class="keyword">this</span>.dialogFormVisibleAdd = <span class="literal">false</span>;</span><br><span class="line">       <span class="comment">// 更新表格</span></span><br><span class="line">       <span class="keyword">this</span>.getTableData();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>不要忘记清空,打开对话框,this.formdata={}</p>
</blockquote>
<h4 id="02-项目-用户管理-用户列表-删除用户-打开确认框"><a href="#02-项目-用户管理-用户列表-删除用户-打开确认框" class="headerlink" title="02-项目-用户管理-用户列表-删除用户-打开确认框"></a>02-项目-用户管理-用户列表-删除用户-打开确认框</h4><blockquote>
<p>引入确认框</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$confirm(<span class="string">"是否把我删掉?"</span>, <span class="string">"提示"</span>, &#123;</span><br><span class="line">  confirmButtonText: <span class="string">"确定"</span>,</span><br><span class="line">  cancelButtonText: <span class="string">"取消"</span>,</span><br><span class="line">  type: <span class="string">"warning"</span></span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.$message.success(<span class="string">"删除成功"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.$message.info(<span class="string">"取消删除"</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>点击确定-&gt;执行.then<br>点击取消-&gt;执行.catch</p>
</blockquote>
<h4 id="03-项目-用户管理-用户列表-删除用户-处理响应"><a href="#03-项目-用户管理-用户列表-删除用户-处理响应" class="headerlink" title="03-项目-用户管理-用户列表-删除用户-处理响应"></a>03-项目-用户管理-用户列表-删除用户-处理响应</h4><blockquote>
<p>点击确定-&gt;发送 delete 请求<br>注意:async 位置,距离异步最近的外层函数</p>
</blockquote>
<h4 id="04-项目-用户管理-用户列表-编辑用户-显示对话框"><a href="#04-项目-用户管理-用户列表-编辑用户-显示对话框" class="headerlink" title="04-项目-用户管理-用户列表-编辑用户-显示对话框"></a>04-项目-用户管理-用户列表-编辑用户-显示对话框</h4><blockquote>
<p>点击操作中的编辑按钮-&gt;显示对话框<br>使用的是之前的 formdata</p>
</blockquote>
<h4 id="05-项目-用户管理-用户列表-编辑用户-显示编辑数据"><a href="#05-项目-用户管理-用户列表-编辑用户-显示编辑数据" class="headerlink" title="05-项目-用户管理-用户列表-编辑用户-显示编辑数据"></a>05-项目-用户管理-用户列表-编辑用户-显示编辑数据</h4><blockquote>
<p>在打开对话框时,</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.formdata = user;</span><br></pre></td></tr></table></figure>
<h4 id="06-项目-用户管理-用户列表-编辑用户-发送请求"><a href="#06-项目-用户管理-用户列表-编辑用户-发送请求" class="headerlink" title="06-项目-用户管理-用户列表-编辑用户-发送请求"></a>06-项目-用户管理-用户列表-编辑用户-发送请求</h4><blockquote>
<p>点击对话框的确定按钮-&gt;发送请求<br>注意: 发请求的参数 id-&gt;来源是上一步赋值的结果 this.formdata=user</p>
</blockquote>
<h4 id="07-项目-用户管理-用户列表-修改用户状态"><a href="#07-项目-用户管理-用户列表-修改用户状态" class="headerlink" title="07-项目-用户管理-用户列表-修改用户状态"></a>07-项目-用户管理-用户列表-修改用户状态</h4><blockquote>
<p>el-switch v-model 绑定 -&gt; 视图操作 View-&gt;被绑定数据变化</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> changeState(user) &#123;</span><br><span class="line">      <span class="comment">// uid-&gt;user</span></span><br><span class="line">      <span class="comment">// type -&gt; user</span></span><br><span class="line">      <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.put(</span><br><span class="line">        <span class="string">`users/<span class="subst">$&#123;user.id&#125;</span>/state/<span class="subst">$&#123;user.mg_state&#125;</span>`</span></span><br><span class="line">      );</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="08-项目-用户管理-用户列表-分配角色-功能演示"><a href="#08-项目-用户管理-用户列表-分配角色-功能演示" class="headerlink" title="08-项目-用户管理-用户列表-分配角色-功能演示"></a>08-项目-用户管理-用户列表-分配角色-功能演示</h4><blockquote>
<p>每个用户都有角色<br>每个角色能做的事儿是不同的,<br>可以做的操作称之为权限<br>给用户分配角色</p>
</blockquote>
<ol>
<li>点按钮-&gt;打开对话框</li>
<li>显示用户信息(用户名+角色)</li>
<li>点击确定-&gt;修改用户角色</li>
</ol>
<h4 id="09-项目-用户管理-用户列表-分配角色-显示对话框"><a href="#09-项目-用户管理-用户列表-分配角色-显示对话框" class="headerlink" title="09-项目-用户管理-用户列表-分配角色-显示对话框"></a>09-项目-用户管理-用户列表-分配角色-显示对话框</h4><blockquote>
<p>点击操作中的 check 按钮-&gt;打开对话框</p>
</blockquote>
<h4 id="10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框"><a href="#10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框" class="headerlink" title="10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框"></a>10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框</h4><blockquote>
<ol>
<li>默认显示请选中-&gt;当 v-model 的数据值 selectVal 和 option 的请选择的 value 值相等, 此时显示请选择</li>
<li>当选择某个 option 时,v-model 的数据的值等于选中的 label 的 value 值</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-select v-model=<span class="string">"selectVal"</span> placeholder=<span class="string">"请选择角色"</span>&gt;</span><br><span class="line">           &lt;el-option label=<span class="string">"请选择"</span> :value=<span class="string">"1"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span></span><br><span class="line">           &lt;el-option</span><br><span class="line">             v-for="(item,i) in roles"</span><br><span class="line">             :key="item.id"</span><br><span class="line">             :label="item.roleName"</span><br><span class="line">             :value="item.id"</span><br><span class="line">           &gt;&lt;/el-option&gt;</span><br><span class="line"></span><br><span class="line">           &lt;!-- 将来获取角色名数据-&gt;v-for遍历 --&gt;</span><br><span class="line">         &lt;/el-select&gt;</span><br></pre></td></tr></table></figure>
<h4 id="11-项目-用户管理-用户列表-分配角色-显示当前用户角色"><a href="#11-项目-用户管理-用户列表-分配角色-显示当前用户角色" class="headerlink" title="11-项目-用户管理-用户列表-分配角色-显示当前用户角色"></a>11-项目-用户管理-用户列表-分配角色-显示当前用户角色</h4><blockquote>
<p>角色 id [30,31,34,39,40]<br>每个用户都有角色 v-model=”searchVal”</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res2 = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(<span class="string">`users/<span class="subst">$&#123;user.id&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// console.log(res2);</span></span><br><span class="line"><span class="comment">// 给下拉框v-model绑定的selectVal赋值</span></span><br><span class="line"><span class="keyword">this</span>.selectVal = res2.data.data.rid;</span><br></pre></td></tr></table></figure>
<h4 id="12-项目-用户管理-用户列表-分配角色-修改用户角色"><a href="#12-项目-用户管理-用户列表-分配角色-修改用户角色" class="headerlink" title="12-项目-用户管理-用户列表-分配角色-修改用户角色"></a>12-项目-用户管理-用户列表-分配角色-修改用户角色</h4><blockquote>
<p>点击确定-&gt;发送请求</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> setRole() &#123;</span><br><span class="line">    <span class="comment">// currUserId</span></span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.put(<span class="string">`users/<span class="subst">$&#123;<span class="keyword">this</span>.currUserId&#125;</span>/role`</span>, &#123;</span><br><span class="line">      rid: <span class="keyword">this</span>.selectVal</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// console.log(res);</span></span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      meta: &#123; msg, status &#125;</span><br><span class="line">    &#125; = res.data;</span><br><span class="line">    <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="comment">// 关闭</span></span><br><span class="line">      <span class="keyword">this</span>.dialogFormVisibleRole = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="13-项目-用户管理-用户列表-合并分支-推送"><a href="#13-项目-用户管理-用户列表-合并分支-推送" class="headerlink" title="13-项目-用户管理-用户列表-合并分支-推送"></a>13-项目-用户管理-用户列表-合并分支-推送</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 在分支上</span><br><span class="line">git status</span><br><span class="line">git checkout master</span><br><span class="line">// 在主分支</span><br><span class="line">git status</span><br><span class="line">git merge dev-users</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h4 id="14-项目-权限管理-新建分支-功能演示"><a href="#14-项目-权限管理-新建分支-功能演示" class="headerlink" title="14-项目-权限管理-新建分支-功能演示"></a>14-项目-权限管理-新建分支-功能演示</h4><ol>
<li>git checkout -b dev-rights<blockquote>
<p>功能拆分</p>
<ol>
<li>权限列表</li>
<li>角色列表<br>面包屑+表格(展开+check 按钮)</li>
</ol>
</blockquote>
</li>
</ol>
<h4 id="15-项目-权限管理-权限列表-新建组件-路由配置"><a href="#15-项目-权限管理-权限列表-新建组件-路由配置" class="headerlink" title="15-项目-权限管理-权限列表-新建组件-路由配置"></a>15-项目-权限管理-权限列表-新建组件-路由配置</h4><blockquote>
<p>rights.vue 组件</p>
</blockquote>
<h4 id="16-项目-权限管理-权限列表-自定义面包屑组件"><a href="#16-项目-权限管理-权限列表-自定义面包屑组件" class="headerlink" title="16-项目-权限管理-权限列表-自定义面包屑组件"></a>16-项目-权限管理-权限列表-自定义面包屑组件</h4><blockquote>
<p>props 传值</p>
</blockquote>
<ol>
<li>声明 props:[数据 a]</li>
<li>赋值 使用组件时 <abc a="值"></abc></li>
<li>使用 {a}<blockquote>
<p>重复代码-&gt;封装组件</p>
</blockquote>
</li>
</ol>
<h4 id="17-项目-权限管理-权限列表-获取权限列表数据"><a href="#17-项目-权限管理-权限列表-获取权限列表数据" class="headerlink" title="17-项目-权限管理-权限列表-获取权限列表数据"></a>17-项目-权限管理-权限列表-获取权限列表数据</h4><blockquote>
<p>url 中 type=list<br>在当前组件中,没有设置头部,所以此时无法获取数据</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> AUTH_TOKEN = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line"><span class="keyword">this</span>.$http.defaults.headers.common[<span class="string">"Authorization"</span>] = AUTH_TOKEN;</span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(<span class="string">`rights/list`</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  data,</span><br><span class="line">  meta: &#123; msg, status &#125;</span><br><span class="line">&#125; = res.data;</span><br><span class="line"><span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.list = data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="18-项目-权限管理-权限列表-axios-封装插件"><a href="#18-项目-权限管理-权限列表-axios-封装插件" class="headerlink" title="18-项目-权限管理-权限列表-axios-封装插件"></a>18-项目-权限管理-权限列表-axios-封装插件</h4><ol>
<li>把头部设置封装起来</li>
<li>main.js 有 5 行代码是 axios 的</li>
<li>把 5 行代码提取为 js 模块</li>
<li>把 axios 变成了 Vue 插件</li>
<li>在 main.js 中导入插件并且使用<blockquote>
<p>任何请求头部和 baseUrl 不需要写</p>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> HttpServer = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">HttpServer.install = <span class="function"><span class="keyword">function</span>(<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  axios.defaults.baseURL = <span class="string">"http://localhost:8888/api/private/v1/"</span>;</span><br><span class="line">  <span class="keyword">const</span> AUTH_TOKEN = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line">  axios.defaults.headers.common[<span class="string">"Authorization"</span>] = AUTH_TOKEN;</span><br><span class="line">  Vue.prototype.$http = axios;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> HttpServer;</span><br></pre></td></tr></table></figure>
<h4 id="19-项目-权限管理-权限列表-axios-拦截器统一设置请求头"><a href="#19-项目-权限管理-权限列表-axios-拦截器统一设置请求头" class="headerlink" title="19-项目-权限管理-权限列表-axios-拦截器统一设置请求头"></a>19-项目-权限管理-权限列表-axios-拦截器统一设置请求头</h4><p>// fetch.js 拦截<br>// axios.js 拦截<br>// jq \$.ajax 拦截</p>
<blockquote>
<p>axios 请求拦截器</p>
</blockquote>
<ol>
<li>所有请求发起之前,都会自动先进入拦截器</li>
<li>在拦截器筛选请求 config.url=?</li>
<li>config.headers[]=token</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"请求拦截器被触发了-----"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 所有请求发起之后,进行筛选,请求标识是不是login</span></span><br><span class="line">    <span class="comment">// 如果标识是login,不要头部-&gt;请求继续发起</span></span><br><span class="line">    <span class="comment">// 当请求标识不是login,先设置头部,再发送请求</span></span><br><span class="line">    <span class="keyword">if</span> (config.url !== <span class="string">"login"</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> AUTH_TOKEN = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line">      <span class="comment">// axios.defaults.headers.common["Authorization"] = AUTH_TOKEN;</span></span><br><span class="line">      config.headers[<span class="string">"Authorization"</span>] = AUTH_TOKEN;</span><br><span class="line">      <span class="comment">// var per = &#123;&#125;;</span></span><br><span class="line">      <span class="comment">// per["Authorization"] = "token";</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// this.$http.get(url) -&gt; 请求拦截处理 -&gt;发请求</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(config);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对请求错误做些什么</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>结果: 之后再也不用写请求头了</p>
</blockquote>
<h3 id="day10-项目-重点"><a href="#day10-项目-重点" class="headerlink" title="day10-项目-重点"></a>day10-项目-重点</h3><h4 id="01-项目-权限管理-权限列表-表格展示"><a href="#01-项目-权限管理-权限列表-表格展示" class="headerlink" title="01-项目-权限管理-权限列表-表格展示"></a>01-项目-权限管理-权限列表-表格展示</h4><blockquote>
<p>把 user.vue 的 el-table-&gt;修改<br>el-table-column 属性 type=”index” 序号从 1 自增</p>
</blockquote>
<h4 id="02-项目-权限管理-权限列表-表格展示-层级显示"><a href="#02-项目-权限管理-权限列表-表格展示-层级显示" class="headerlink" title="02-项目-权限管理-权限列表-表格展示-层级显示"></a>02-项目-权限管理-权限列表-表格展示-层级显示</h4><blockquote>
<p>res 的数据中 level 是字符’0’</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">"层级"</span> <span class="attr">width</span>=<span class="string">"200"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"scope"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">"scope.row.level==='0'"</span>&gt;</span>一级<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">"scope.row.level==='1'"</span>&gt;</span>二级<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">"scope.row.level==='2'"</span>&gt;</span>三级<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="03-项目-权限管理-角色列表-新建组件-配置路由"><a href="#03-项目-权限管理-角色列表-新建组件-配置路由" class="headerlink" title="03-项目-权限管理-角色列表-新建组件-配置路由"></a>03-项目-权限管理-角色列表-新建组件-配置路由</h4><blockquote>
<p>新建 roles.vue 组件+配置路由+home.vue 改标识</p>
</blockquote>
<h4 id="04-项目-权限管理-角色列表-面包屑和添加按钮"><a href="#04-项目-权限管理-角色列表-面包屑和添加按钮" class="headerlink" title="04-项目-权限管理-角色列表-面包屑和添加按钮"></a>04-项目-权限管理-角色列表-面包屑和添加按钮</h4><blockquote>
<p>自定义面包屑+el-button</p>
</blockquote>
<h4 id="05-项目-权限管理-角色列表-获取角色列表数据"><a href="#05-项目-权限管理-角色列表-获取角色列表数据" class="headerlink" title="05-项目-权限管理-角色列表-获取角色列表数据"></a>05-项目-权限管理-角色列表-获取角色列表数据</h4><blockquote>
<p>methods 中 getRoles()</p>
</blockquote>
<h4 id="06-项目-权限管理-角色列表-表格展示"><a href="#06-项目-权限管理-角色列表-表格展示" class="headerlink" title="06-项目-权限管理-角色列表-表格展示"></a>06-项目-权限管理-角色列表-表格展示</h4><blockquote>
<p>把 user.vue 复制-&gt;修改</p>
</blockquote>
<h4 id="07-项目-权限管理-角色列表-表格展示-展开行功能分析"><a href="#07-项目-权限管理-角色列表-表格展示-展开行功能分析" class="headerlink" title="07-项目-权限管理-角色列表-表格展示-展开行功能分析"></a>07-项目-权限管理-角色列表-表格展示-展开行功能分析</h4><blockquote>
<ol>
<li>所有行列布局-&gt;for 嵌套-&gt;v-for</li>
<li>el-row&gt;(el-col&gt;el-tag&gt;+el-col&gt;(el-row&gt;(el-col&gt;el-tag+el-col&gt;el-tag)))</li>
<li>有颜色的标签 el-tag</li>
<li>4:20</li>
</ol>
</blockquote>
<h4 id="08-项目-权限管理-角色列表-表格展示-展开行-一级权限"><a href="#08-项目-权限管理-角色列表-表格展示-展开行-一级权限" class="headerlink" title="08-项目-权限管理-角色列表-表格展示-展开行-一级权限"></a>08-项目-权限管理-角色列表-表格展示-展开行-一级权限</h4><blockquote>
<p>最外层 v-for 的位置是最外层 el-row</p>
</blockquote>
<h4 id="09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限"><a href="#09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限" class="headerlink" title="09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限"></a>09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">"level1"</span> <span class="attr">v-for</span>=<span class="string">"(item1,i) in scope.row.children"</span> <span class="attr">:key</span>=<span class="string">"item1.id"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"4"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">closable</span> <span class="attr">type</span>=<span class="string">"success"</span>&gt;</span>&#123;item1.authName&#125;<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"20"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">class</span>=<span class="string">"level2"</span> <span class="attr">v-for</span>=<span class="string">"(item2,i) in item1.children"</span> <span class="attr">:key</span>=<span class="string">"item2.id"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"4"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tag</span> <span class="attr">closable</span> <span class="attr">type</span>=<span class="string">"warning"</span>&gt;</span>&#123;item2.authName&#125;<span class="tag">&lt;/<span class="name">el-tag</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"20"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tag</span></span></span><br><span class="line"><span class="tag">          <span class="attr">closable</span></span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">"info"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">v-for</span>=<span class="string">"(item3,i) in item2.children"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">:key</span>=<span class="string">"item3.id"</span></span></span><br><span class="line"><span class="tag">          &gt;</span>&#123;item3.authName&#125;<span class="tag">&lt;/<span class="name">el-tag</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>最里层的 v-for 写在 el-tag 位置</p>
</blockquote>
<h4 id="10-项目-权限管理-角色列表-展开行-样式调整-处理无权限"><a href="#10-项目-权限管理-角色列表-展开行-样式调整-处理无权限" class="headerlink" title="10-项目-权限管理-角色列表-展开行-样式调整-处理无权限"></a>10-项目-权限管理-角色列表-展开行-样式调整-处理无权限</h4><ol>
<li>closeable el-tag X</li>
<li>i 标签 class=””<br>3.</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-row</span> <span class="attr">v-if</span>=<span class="string">"scope.row.children.length===0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>未分配权限<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="11-项目-权限管理-角色列表-展开行-取消权限"><a href="#11-项目-权限管理-角色列表-展开行-取消权限" class="headerlink" title="11-项目-权限管理-角色列表-展开行-取消权限"></a>11-项目-权限管理-角色列表-展开行-取消权限</h4><blockquote>
<p>点击 el-tag 的 X-&gt;取消权限<br>@close=”deleRights(scope.row,itemX)”</p>
</blockquote>
<h4 id="12-项目-权限管理-角色列表-展开行-取消权限-优化"><a href="#12-项目-权限管理-角色列表-展开行-取消权限-优化" class="headerlink" title="12-项目-权限管理-角色列表-展开行-取消权限-优化"></a>12-项目-权限管理-角色列表-展开行-取消权限-优化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取消权限</span></span><br><span class="line"><span class="keyword">async</span> deleRights(role, rights) &#123;</span><br><span class="line">  <span class="comment">// console.log(role, rights);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// roleId-&gt;角色id</span></span><br><span class="line">  <span class="comment">// rightId-&gt;权限id</span></span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.delete(</span><br><span class="line">    <span class="string">`roles/<span class="subst">$&#123;role.id&#125;</span>/rights/<span class="subst">$&#123;rights.id&#125;</span>`</span></span><br><span class="line">  );</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    meta: &#123; msg, status &#125;,</span><br><span class="line">    data</span><br><span class="line">  &#125; = res.data;</span><br><span class="line">  <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="comment">// 提示</span></span><br><span class="line">    <span class="keyword">this</span>.$message.success(msg);</span><br><span class="line">    <span class="comment">// 更新</span></span><br><span class="line">    <span class="comment">// this.getRoles();</span></span><br><span class="line">    <span class="comment">// 会返回当前角色的剩余权限</span></span><br><span class="line">    <span class="comment">// 只更新当前的角色权限</span></span><br><span class="line">    role.children = data;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>取消成功后,res 返回的是当前觉得 rest 权限</p>
</blockquote>
<h4 id="13-项目-权限管理-角色列表-修改权限-显示对话框"><a href="#13-项目-权限管理-角色列表-修改权限-显示对话框" class="headerlink" title="13-项目-权限管理-角色列表-修改权限-显示对话框"></a>13-项目-权限管理-角色列表-修改权限-显示对话框</h4><blockquote>
<p>点击操作中 check 按钮-&gt;打开对话框</p>
</blockquote>
<h4 id="14-项目-权限管理-角色列表-修改权限-树形结构-文档分析"><a href="#14-项目-权限管理-角色列表-修改权限-树形结构-文档分析" class="headerlink" title="14-项目-权限管理-角色列表-修改权限-树形结构-文档分析"></a>14-项目-权限管理-角色列表-修改权限-树形结构-文档分析</h4><blockquote>
<ol>
<li>data 数据源</li>
<li>node-key 每个节点唯一标识</li>
<li>default-expanded-keys[] 默认展开</li>
<li>default-checked-keys [] 默认选中</li>
<li>props 配置选项{label/children}</li>
</ol>
</blockquote>
<blockquote>
<p>前提:res 数据格式是树形结构</p>
</blockquote>
<h4 id="15-项目-权限管理-角色列表-修改权限-树形结构-配置数据"><a href="#15-项目-权限管理-角色列表-修改权限-树形结构-配置数据" class="headerlink" title="15-项目-权限管理-角色列表-修改权限-树形结构-配置数据"></a>15-项目-权限管理-角色列表-修改权限-树形结构-配置数据</h4><blockquote>
<ol>
<li>treelist 每个权限的唯一标识 id-&gt;node-key=”id”</li>
<li>label=”authName”</li>
<li>pid-&gt;上一/二级节点 id</li>
</ol>
</blockquote>
<h4 id="16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限"><a href="#16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限" class="headerlink" title="16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限"></a>16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限</h4><ol>
<li>默认展开 default-expand-all</li>
<li>默认选中<br>2.1 获取当前角色有的权限数据 role.children<br>2.2 遍历 forEach<br>2.3 arrCheck=temp2<blockquote>
<p>注意:只加最里层的 id</p>
</blockquote>
</li>
</ol>
<h4 id="17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析"><a href="#17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析" class="headerlink" title="17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析"></a>17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析</h4><blockquote>
<ol>
<li>获取全选 id 数组</li>
<li>获取半选 id 数组</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = <span class="keyword">this</span>.$refs.treeDom.getCheckedKeys();</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取半选节点id -&gt; getHalfCheckedKeys</span></span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="keyword">this</span>.$refs.treeDom.getHalfCheckedKeys();</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ref 操作 dom</p>
<ol>
<li>给要操作的标签设置 ref 值</li>
<li>在 js 中 this.\$refs.ref 值.js 方法()</li>
</ol>
</blockquote>
<h4 id="18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现"><a href="#18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现" class="headerlink" title="18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现"></a>18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.post(<span class="string">`roles/<span class="subst">$&#123;<span class="keyword">this</span>.currRoleId&#125;</span>/rights`</span>, &#123;</span><br><span class="line">  rids: arr.join(<span class="string">","</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>…arr 或者 obj</li>
<li>rids:以,分割的 id 列表 arr arr.join(“,”)<br>并不是所有数据都是提供好的</li>
</ol>
</blockquote>
<h4 id="19-项目-首页-侧边栏-动态导航"><a href="#19-项目-首页-侧边栏-动态导航" class="headerlink" title="19-项目-首页-侧边栏-动态导航"></a>19-项目-首页-侧边栏-动态导航</h4><blockquote>
<p>ESLint 关闭-&gt;build/webpack.base.conf.js-&gt;42 行-&gt;注释<br>效果: 每个不同角色的用户-&gt;登录-&gt;显示拥有权限的对应导航</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> getMenus() &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(<span class="string">`menus`</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    meta: &#123; msg, status &#125;,</span><br><span class="line">    data</span><br><span class="line">  &#125; = res.data;</span><br><span class="line">  <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.menus = data;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-submenu</span> <span class="attr">:index</span>=<span class="string">"item1.order+''"</span> <span class="attr">v-for</span>=<span class="string">"(item1,i) in menus"</span> <span class="attr">:key</span>=<span class="string">"item1.id"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"el-icon-location"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;item1.authName&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-menu-item</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:index</span>=<span class="string">"item2.path+''"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"(item2,i) in item1.children"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">"item2.id"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"el-icon-menu"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;item2.authName&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-submenu</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>结果: 在实现之后的功能时,路由配置的 path 不能随便写了!</p>
</blockquote>
<h4 id="20-项目-效果演示-不同角色用户登录-显示对应权限"><a href="#20-项目-效果演示-不同角色用户登录-显示对应权限" class="headerlink" title="20-项目-效果演示-不同角色用户登录-显示对应权限"></a>20-项目-效果演示-不同角色用户登录-显示对应权限</h4><blockquote>
<ol>
<li>不同用户登录后,权限不一样</li>
<li>超管登录只能权限管理</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 21-项目-不同角色用户登录-显示对应权限-导航守卫</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&gt; 标识改变-&gt;路由配置-&gt;配置生效前-&gt;守卫-&gt;next()-&gt;配置生效</span></span><br><span class="line"><span class="string">&gt;</span></span><br><span class="line"><span class="string">&gt; 1. to-&gt;要去的</span></span><br><span class="line"><span class="string">&gt; 2. from-&gt;当前</span></span><br><span class="line"><span class="string">&gt; 3. next next()-&gt;继续执行之前的配置</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 如果要去的是login -&gt; next()</span></span><br><span class="line">  <span class="keyword">if</span> (to.name === <span class="string">"login"</span>) &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 如果要去的不是login -&gt;</span></span><br><span class="line">    <span class="comment">//  2.1 !token -&gt; 去登录</span></span><br><span class="line">    <span class="keyword">const</span> token = localStorage.getItem(<span class="string">"token"</span>);</span><br><span class="line">    <span class="keyword">if</span> (!token) &#123;</span><br><span class="line">      <span class="comment">//提示</span></span><br><span class="line">      <span class="comment">// this.$message.warning("请先登录!");-&gt;</span></span><br><span class="line">      Message.warning(<span class="string">"请先登录!"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//  this.$router.push(&#123;name:'login'&#125;)</span></span><br><span class="line">      <span class="comment">// $router</span></span><br><span class="line">      router.push(&#123;</span><br><span class="line">        name: <span class="string">"login"</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//  2.2 token  -&gt; next()</span></span><br><span class="line">    next();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// console.log(to, from);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// next方法</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意: router/index.js 中 this 不是 Vue 实例</p>
<ol>
<li>this.\$router-&gt;rotuer</li>
<li>提示框-&gt;单独导入 Message</li>
<li>之前的 home.vue 的 beforeMount 不用写了</li>
</ol>
</blockquote>
<h4 id="22-项目-权限管理-合并分支-推送-新建分支"><a href="#22-项目-权限管理-合并分支-推送-新建分支" class="headerlink" title="22-项目-权限管理-合并分支-推送-新建分支"></a>22-项目-权限管理-合并分支-推送-新建分支</h4><h3 id="day11-项目-重点"><a href="#day11-项目-重点" class="headerlink" title="day11-项目-重点"></a>day11-项目-重点</h3><h4 id="01-项目-商品管理-功能演示-新建分支"><a href="#01-项目-商品管理-功能演示-新建分支" class="headerlink" title="01-项目-商品管理-功能演示-新建分支"></a>01-项目-商品管理-功能演示-新建分支</h4><ol>
<li>列表-&gt;添加商品</li>
<li>分类参数-&gt;动态+静态参数编辑</li>
<li>商品分类-&gt;表格展开后的树形结构</li>
</ol>
<h4 id="02-项目-商品管理-商品列表-显示-提前准备"><a href="#02-项目-商品管理-商品列表-显示-提前准备" class="headerlink" title="02-项目-商品管理-商品列表-显示(提前准备)"></a>02-项目-商品管理-商品列表-显示(提前准备)</h4><blockquote>
<p>02-其他资源/goodslist.vue</p>
</blockquote>
<ol>
<li>面包屑名称 cus-bread</li>
<li>fmtdate</li>
<li>loading 删掉</li>
<li>配置路由(path 不能随便写了)</li>
</ol>
<h4 id="03-项目-商品管理-添加商品-新建组件-配置路由-布局"><a href="#03-项目-商品管理-添加商品-新建组件-配置路由-布局" class="headerlink" title="03-项目-商品管理-添加商品-新建组件-配置路由-布局"></a>03-项目-商品管理-添加商品-新建组件-配置路由-布局</h4><ol>
<li>新建组件 goodsadd.vue</li>
<li>配置路由<blockquote>
<p>path 可以随便写</p>
</blockquote>
</li>
<li><el-alert class="alert" title="添加商品信息" type="info" center="" show-icon=""></el-alert></li>
</ol>
<h4 id="04-项目-商品管理-添加商品-步骤条"><a href="#04-项目-商品管理-添加商品-步骤条" class="headerlink" title="04-项目-商品管理-添加商品-步骤条"></a>04-项目-商品管理-添加商品-步骤条</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-steps</span> <span class="attr">:active</span>=<span class="string">"active*1"</span> <span class="attr">align-center</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-step</span> <span class="attr">title</span>=<span class="string">"基本信息"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-step</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-step</span> <span class="attr">title</span>=<span class="string">"商品参数"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-step</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-step</span> <span class="attr">title</span>=<span class="string">"商品属性"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-step</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-step</span> <span class="attr">title</span>=<span class="string">"商品图片"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-step</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-step</span> <span class="attr">title</span>=<span class="string">"商品内容"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-step</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-steps</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>active 控制的是当前完成了第几步</p>
</blockquote>
<h4 id="05-项目-商品管理-添加商品-tabs-标签"><a href="#05-项目-商品管理-添加商品-tabs-标签" class="headerlink" title="05-项目-商品管理-添加商品-tabs 标签"></a>05-项目-商品管理-添加商品-tabs 标签</h4><blockquote>
<p>标签页:表单元素 v-model 绑定</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-tabs</span> <span class="attr">v-model</span>=<span class="string">"active"</span> <span class="attr">tab-position</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"1"</span> <span class="attr">label</span>=<span class="string">"基本信息"</span>&gt;</span>基本信息----<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"2"</span> <span class="attr">label</span>=<span class="string">"商品参数"</span>&gt;</span>商品参数----<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"3"</span> <span class="attr">label</span>=<span class="string">"商品属性"</span>&gt;</span>商品属性----<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"4"</span> <span class="attr">label</span>=<span class="string">"商品图片"</span>&gt;</span>商品图片----<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"5"</span> <span class="attr">label</span>=<span class="string">"商品内容"</span>&gt;</span>商品内容----<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-tabs</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="06-项目-商品管理-添加商品-基本信息-绑定表单数据"><a href="#06-项目-商品管理-添加商品-基本信息-绑定表单数据" class="headerlink" title="06-项目-商品管理-添加商品-基本信息-绑定表单数据"></a>06-项目-商品管理-添加商品-基本信息-绑定表单数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"1"</span> <span class="attr">label</span>=<span class="string">"基本信息"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"商品名称"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"form.goods_name"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"商品价格"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"form.goods_price"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"商品重量"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"form.goods_weight"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"商品数量"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"form.goods_number"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"商品分类"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 表单元素 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">form: &#123;</span><br><span class="line">      goods_name: "",</span><br><span class="line">      goods_cat: "",</span><br><span class="line">      goods_price: "",</span><br><span class="line">      goods_number: "",</span><br><span class="line">      goods_weight: "",</span><br><span class="line">      goods_introduce: "",</span><br><span class="line">      pics: "",</span><br><span class="line">      attrs: ""</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入"><a href="#07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入" class="headerlink" title="07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入"></a>07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入</h4><blockquote>
<p>级联选择器表单元素 v-model=”数组”</p>
<ol>
<li>[1,2,3]</li>
<li>当选择某个 label-&gt;[value 值]</li>
</ol>
</blockquote>
<h4 id="08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据"><a href="#08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据" class="headerlink" title="08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据"></a>08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据</h4><blockquote>
<p>const res = await this.\$http.get(<code>categories?type=3</code>);<br>:props=”{label/value/children}”</p>
</blockquote>
<h4 id="09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据"><a href="#09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据" class="headerlink" title="09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据"></a>09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-cascader</span></span></span><br><span class="line"><span class="tag">  <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">  <span class="attr">expand-trigger</span>=<span class="string">"hover"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:options</span>=<span class="string">"options"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:props</span>=<span class="string">"defaultProp"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">"selectedOptions"</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">change</span>=<span class="string">"handleChange"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-cascader</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> getGoodsCate() &#123;</span><br><span class="line">      <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(<span class="string">`categories?type=3`</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">      <span class="keyword">const</span> &#123;</span><br><span class="line">        meta: &#123; msg, status &#125;,</span><br><span class="line">        data</span><br><span class="line">      &#125; = res.data;</span><br><span class="line">      <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.options = data;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// label/value/children默认值是同名字符串</span><br><span class="line">defaultProp: &#123;</span><br><span class="line">        label: "cat_name",</span><br><span class="line">        value: "cat_id"</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<h4 id="10-项目-商品管理-添加商品-商品参数-获取动态参数数据"><a href="#10-项目-商品管理-添加商品-商品参数-获取动态参数数据" class="headerlink" title="10-项目-商品管理-添加商品-商品参数-获取动态参数数据"></a>10-项目-商品管理-添加商品-商品参数-获取动态参数数据</h4><blockquote>
<p>选择第二个 tab&amp;&amp;三级分类-&gt;发送请求(获取动态参数)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(</span><br><span class="line">  <span class="string">`categories/<span class="subst">$&#123;<span class="keyword">this</span>.selectedOptions[<span class="number">2</span>]&#125;</span>/attributes?sel=many`</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入"><a href="#11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入" class="headerlink" title="11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入"></a>11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入</h4><blockquote>
<p>el-checkbox-group-&gt;v-model=”[]” 表单元素</p>
</blockquote>
<h4 id="12-项目-商品管理-添加商品-商品参数-配置复选框"><a href="#12-项目-商品管理-添加商品-商品参数-配置复选框" class="headerlink" title="12-项目-商品管理-添加商品-商品参数-配置复选框"></a>12-项目-商品管理-添加商品-商品参数-配置复选框</h4><blockquote>
<p>处理数据 arrDy-&gt;item.attr_Vals””-&gt;[]</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:label</span>=<span class="string">"item1.attr_name"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-for</span>=<span class="string">"(item1,i) in arrDy"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:key</span>=<span class="string">"item1.attr_id"</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">"item1.attr_vals"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span></span></span><br><span class="line"><span class="tag">      <span class="attr">border</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:label</span>=<span class="string">"item2"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-for</span>=<span class="string">"(item2,i) in item1.attr_vals"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:key</span>=<span class="string">"i"</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.arrDy.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  item.attr_vals =</span><br><span class="line">    item.attr_vals.trim().length === <span class="number">0</span> ? [] : item.attr_vals.trim().split(<span class="string">","</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(item.attr_vals);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>border</li>
<li>v-model=”item1.attr_val”</li>
</ol>
</blockquote>
<h4 id="13-项目-商品管理-添加商品-商品属性-获取静态参数数据"><a href="#13-项目-商品管理-添加商品-商品属性-获取静态参数数据" class="headerlink" title="13-项目-商品管理-添加商品-商品属性-获取静态参数数据"></a>13-项目-商品管理-添加商品-商品属性-获取静态参数数据</h4><blockquote>
<p>点击第三个 tab &amp;&amp; 分类数组长度===3-&gt;发送 only 请求</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.active === <span class="string">"3"</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.get(</span><br><span class="line">    <span class="string">`categories/<span class="subst">$&#123;<span class="keyword">this</span>.selectedOptions[<span class="number">2</span>]&#125;</span>/attributes?sel=only`</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    meta: &#123; msg, status &#125;,</span><br><span class="line">    data</span><br><span class="line">  &#125; = res.data;</span><br><span class="line">  <span class="keyword">if</span> (status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.arrStatic = data;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.arrStatic);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-项目-商品管理-添加商品-商品属性-布局"><a href="#14-项目-商品管理-添加商品-商品属性-布局" class="headerlink" title="14-项目-商品管理-添加商品-商品属性-布局"></a>14-项目-商品管理-添加商品-商品属性-布局</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"3"</span> <span class="attr">label</span>=<span class="string">"商品属性"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:label</span>=<span class="string">"item.attr_name"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"(item,i) in arrStatic"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">"item.attr_id"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"item.attr_vals"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="15-项目-商品管理-添加商品-图片上传-文档-引入"><a href="#15-项目-商品管理-添加商品-图片上传-文档-引入" class="headerlink" title="15-项目-商品管理-添加商品-图片上传-文档-引入"></a>15-项目-商品管理-添加商品-图片上传-文档-引入</h4><blockquote>
<ol>
<li>action 全路径网址</li>
<li>headers 请求头</li>
</ol>
</blockquote>
<h4 id="16-项目-商品管理-添加商品-图片上传-配置属性"><a href="#16-项目-商品管理-添加商品-图片上传-配置属性" class="headerlink" title="16-项目-商品管理-添加商品-图片上传-配置属性"></a>16-项目-商品管理-添加商品-图片上传-配置属性</h4><blockquote>
<ol>
<li>action 全路径网址</li>
<li>headers 请求头<br>之前的只针对 axios</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图片上传方法</span></span><br><span class="line">    handleRemove(file, fileList) &#123;</span><br><span class="line">      <span class="comment">// console.log("remove----");</span></span><br><span class="line">      <span class="built_in">console</span>.log(file);</span><br><span class="line">      <span class="comment">//  临时路径</span></span><br><span class="line">      file.response.data.tmp_path;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleSuccess(response, file, fileList) &#123;</span><br><span class="line">      <span class="comment">// console.log("success----");</span></span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(response);</span><br><span class="line">      <span class="comment">// response.data.tmp_path -&gt; 临时路径</span></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="17-项目-商品管理-添加商品-商品内容-富文本编辑器"><a href="#17-项目-商品管理-添加商品-商品内容-富文本编辑器" class="headerlink" title="17-项目-商品管理-添加商品-商品内容-富文本编辑器"></a>17-项目-商品管理-添加商品-商品内容-富文本编辑器</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">name</span>=<span class="string">"5"</span> <span class="attr">label</span>=<span class="string">"商品内容"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"addGoods()"</span>&gt;</span>添加商品<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">quill-editor</span> <span class="attr">class</span>=<span class="string">"quill"</span> <span class="attr">v-model</span>=<span class="string">"form.goods_introduce"</span>&gt;</span><span class="tag">&lt;/<span class="name">quill-editor</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"quill/dist/quill.core.css"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"quill/dist/quill.snow.css"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"quill/dist/quill.bubble.css"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; quillEditor &#125; <span class="keyword">from</span> <span class="string">"vue-quill-editor"</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>quill-editor 是表单元素 v-model</li>
<li>SPA 和 SSR<br>扩展: vue 适合 SPA-&gt;缺点之一:不利于 SEO-&gt;服务端渲染 SSR&lt;-Nuxt.js</li>
</ol>
</blockquote>
<h4 id="18-项目-商品管理-添加商品-表单数据分析"><a href="#18-项目-商品管理-添加商品-表单数据分析" class="headerlink" title="18-项目-商品管理-添加商品-表单数据分析"></a>18-项目-商品管理-添加商品-表单数据分析</h4><blockquote>
<ol>
<li>goods_cat [1,2,3]-&gt;”1,2,3”</li>
<li>pics:[{pic:临时路径}]</li>
<li>attrs:[{attr_id:?,attr_value:?}]<br>来源 arrDy 和 arrStatic 中每个对象的 attr_id 和 attr_vals</li>
</ol>
</blockquote>
<h4 id="19-项目-商品管理-添加商品-表单数据处理-分类和图片"><a href="#19-项目-商品管理-添加商品-表单数据处理-分类和图片" class="headerlink" title="19-项目-商品管理-添加商品-表单数据处理-分类和图片"></a>19-项目-商品管理-添加商品-表单数据处理-分类和图片</h4><blockquote>
<ol>
<li>this.form.goods_cat = this.selectedOptions.join(“,”);</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>处理 this.form.pics</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">handleRemove(file, fileList) &#123;</span><br><span class="line">      <span class="comment">// findIndex(ES6数组新增API)</span></span><br><span class="line">      <span class="keyword">const</span> Index = <span class="keyword">this</span>.form.pics.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// console.log(item);// item.pic</span></span><br><span class="line">        <span class="keyword">return</span> item.pic === file.response.data.tmp_path;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.form.pics.splice(Index, <span class="number">1</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.form.pics);</span><br><span class="line">    &#125;,</span><br><span class="line">    handleSuccess(response, file, fileList) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// response.data.tmp_path -&gt; 临时路径</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">this</span>.form.pics.push(&#123;</span><br><span class="line">        pic: response.data.tmp_path</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.form.pics);</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="20-项目-商品管理-添加商品-表单数据处理-attrs"><a href="#20-项目-商品管理-添加商品-表单数据处理-attrs" class="headerlink" title="20-项目-商品管理-添加商品-表单数据处理-attrs"></a>20-项目-商品管理-添加商品-表单数据处理-attrs</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = <span class="keyword">this</span>.arrDy.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">attr_id</span>: item.attr_id, <span class="attr">attr_value</span>: item.attr_vals &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="keyword">this</span>.arrStatic.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">attr_id</span>: item.attr_id, <span class="attr">attr_value</span>: item.attr_vals &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.form.attrs = [...arr1, ...arr2];</span><br></pre></td></tr></table></figure>
<h4 id="21-项目-商品管理-添加商品-发送请求-回到商品列表页"><a href="#21-项目-商品管理-添加商品-发送请求-回到商品列表页" class="headerlink" title="21-项目-商品管理-添加商品-发送请求-回到商品列表页"></a>21-项目-商品管理-添加商品-发送请求-回到商品列表页</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.post(<span class="string">`goods`</span>, <span class="keyword">this</span>.form);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>回到列表</p>
</blockquote>
<blockquote>
<p>解决了 bug</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.active === <span class="string">"2"</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.arrDy = [];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">this</span>.arrStatic = [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="day12-项目-重点"><a href="#day12-项目-重点" class="headerlink" title="day12-项目-重点"></a>day12-项目-重点</h3><h4 id="01-项目-商品管理-分类参数-新建组件-路由配置"><a href="#01-项目-商品管理-分类参数-新建组件-路由配置" class="headerlink" title="01-项目-商品管理-分类参数-新建组件-路由配置"></a>01-项目-商品管理-分类参数-新建组件-路由配置</h4><blockquote>
<p>分类参数.vue<br>级联+tabs+动态 el-tag 编辑(删除/添加)<br>cateparams.vue</p>
</blockquote>
<h4 id="02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器"><a href="#02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器" class="headerlink" title="02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器"></a>02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器</h4><blockquote>
<p>goodsadd.vue 的级联完全一样<br>仅显示最后一级 label :show-all-levels=”false”</p>
</blockquote>
<h4 id="03-项目-商品管理-分类参数-动态参数-获取动态参数数据"><a href="#03-项目-商品管理-分类参数-动态参数-获取动态参数数据" class="headerlink" title="03-项目-商品管理-分类参数-动态参数-获取动态参数数据"></a>03-项目-商品管理-分类参数-动态参数-获取动态参数数据</h4><blockquote>
<p>点击级联选择器且是三级分类-&gt;获取动态参数数组</p>
</blockquote>
<h4 id="04-项目-商品管理-分类参数-动态参数-表格渲染"><a href="#04-项目-商品管理-分类参数-动态参数-表格渲染" class="headerlink" title="04-项目-商品管理-分类参数-动态参数-表格渲染"></a>04-项目-商品管理-分类参数-动态参数-表格渲染</h4><blockquote>
<p>goodslist 的 el-table-&gt;修改</p>
</blockquote>
<h4 id="05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入"><a href="#05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入" class="headerlink" title="05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入"></a>05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入</h4><blockquote>
<p>el-tag 文档-&gt;动态编辑<br>标签+css+data+js 三个方法</p>
</blockquote>
<h4 id="06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成"><a href="#06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成" class="headerlink" title="06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成"></a>06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成</h4><blockquote>
<p>把动态 tag 编辑的 dynamicTags 换成自己的 arrDy 中每个对象的 attr_vals</p>
</blockquote>
<h4 id="07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求"><a href="#07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求" class="headerlink" title="07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求"></a>07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求</h4><blockquote>
<p>删除/添加属性值</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$http.put(</span><br><span class="line">  <span class="string">`categories/<span class="subst">$&#123;<span class="keyword">this</span>.selectedOptions[<span class="number">2</span>]&#125;</span>/attributes/<span class="subst">$&#123;obj.attr_id&#125;</span></span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    attr_name: obj.attr_name,</span><br><span class="line">    attr_sel: obj.attr_sel,</span><br><span class="line">    <span class="comment">// 以,分割的属性值列表 [].join(",")</span></span><br><span class="line">    attr_vals: obj.attr_vals.join(<span class="string">","</span>)</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="08-项目-商品管理-分类参数-静态参数-布局-获取数据"><a href="#08-项目-商品管理-分类参数-静态参数-布局-获取数据" class="headerlink" title="08-项目-商品管理-分类参数-静态参数-布局-获取数据"></a>08-项目-商品管理-分类参数-静态参数-布局-获取数据</h4><blockquote>
<ol>
<li>级联选择器@change-&gt;获取动态 or 静态</li>
<li>el-tabs@tab-click-&gt;获取动态 or 静态<br>getDyOrStatic()</li>
</ol>
</blockquote>
<h4 id="09-项目-商品管理-商品分类-组件-提前准备-路由配置"><a href="#09-项目-商品管理-商品分类-组件-提前准备-路由配置" class="headerlink" title="09-项目-商品管理-商品分类-组件(提前准备)-路由配置"></a>09-项目-商品管理-商品分类-组件(提前准备)-路由配置</h4><blockquote>
<p>02-其他资源/goodscate.vue(商品分类组件)-&gt;cus-bread</p>
</blockquote>
<ol>
<li>添加分类</li>
<li>表格的列展开后类树形结构</li>
</ol>
<h4 id="10-项目-商品管理-商品分类-element-tree-grid-文档-引入"><a href="#10-项目-商品管理-商品分类-element-tree-grid-文档-引入" class="headerlink" title="10-项目-商品管理-商品分类-element-tree-grid-文档-引入"></a>10-项目-商品管理-商品分类-element-tree-grid-文档-引入</h4><blockquote>
<p>el-table 展开之后没有类树形结构</p>
</blockquote>
<ol>
<li>不用 element-&gt;不好</li>
<li>找一个 element 这个插件的插件 x-table(扩展 el-table)-&gt;替换了整个 el-table</li>
<li>找 el-table 的插件-&gt;替换 el-table-column-&gt;推荐-&gt;xxx-table-column<blockquote>
<p>npm-&gt;element-tree-grid</p>
</blockquote>
</li>
</ol>
<h4 id="11-项目-商品管理-商品分类-element-tree-grid-配置"><a href="#11-项目-商品管理-商品分类-element-tree-grid-配置" class="headerlink" title="11-项目-商品管理-商品分类-element-tree-grid-配置"></a>11-项目-商品管理-商品分类-element-tree-grid-配置</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-tree-grid</span></span></span><br><span class="line"><span class="tag">  <span class="attr">prop</span>=<span class="string">"cat_name"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">"120"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">label</span>=<span class="string">"分类名称"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">treeKey</span>=<span class="string">"cat_id"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parentKey</span>=<span class="string">"cat_pid"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">childKey</span>=<span class="string">"children"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">levelKey</span>=<span class="string">"cat_level"</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">el-tree-grid</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="12-项目-商品管理-商品分类-添加分类-打开对话框"><a href="#12-项目-商品管理-商品分类-添加分类-打开对话框" class="headerlink" title="12-项目-商品管理-商品分类-添加分类-打开对话框"></a>12-项目-商品管理-商品分类-添加分类-打开对话框</h4><blockquote>
<p>获取 type=2 前两级分类</p>
</blockquote>
<h4 id="13-项目-商品管理-商品分类-添加分类-发送请求"><a href="#13-项目-商品管理-商品分类-添加分类-发送请求" class="headerlink" title="13-项目-商品管理-商品分类-添加分类-发送请求"></a>13-项目-商品管理-商品分类-添加分类-发送请求</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.selectedOptions.length === <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_level = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_pid = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 二级分类-&gt;如果级联的数组长度1-&gt;cat_pid=上一级id(this.selectoption[0]) cat_level=1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.selectedOptions.length === <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_level = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_pid = <span class="keyword">this</span>.selectedOptions[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 三级分类-&gt;如果级联的数组长度2-&gt;cat_pid=上一级id(this.selectoption[1]) cat_level=2</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.selectedOptions.length === <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_level = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">this</span>.form.cat_pid = <span class="keyword">this</span>.selectedOptions[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-项目-合并分支-推送分支-新建分支"><a href="#14-项目-合并分支-推送分支-新建分支" class="headerlink" title="14-项目-合并分支-推送分支-新建分支"></a>14-项目-合并分支-推送分支-新建分支</h4><blockquote>
<p>dev-order</p>
</blockquote>
<h4 id="15-项目-订单管理-订单列表-组件-提前准备-路由配置"><a href="#15-项目-订单管理-订单列表-组件-提前准备-路由配置" class="headerlink" title="15-项目-订单管理-订单列表-组件(提前准备)-路由配置"></a>15-项目-订单管理-订单列表-组件(提前准备)-路由配置</h4><blockquote>
<p>02-其他资源/order.vue 订单组件<br>给级联提供省市区的数据</p>
</blockquote>
<h4 id="16-项目-订单管理-订单列表-省市区引入"><a href="#16-项目-订单管理-订单列表-省市区引入" class="headerlink" title="16-项目-订单管理-订单列表-省市区引入"></a>16-项目-订单管理-订单列表-省市区引入</h4><blockquote>
<p>省市区(联动)<br>客户端:网站 web/安卓/苹果-&gt;省市区-&gt;.json 或者.js<br>在.vue 中可以使用.js 模块<br>比如:wow.js iscroll.js swiper.js 等<br>vue-swiper.js</p>
</blockquote>
<h4 id="17-项目-数据统计-数据报表-Echarts-文档-引入"><a href="#17-项目-数据统计-数据报表-Echarts-文档-引入" class="headerlink" title="17-项目-数据统计-数据报表-Echarts-文档-引入"></a>17-项目-数据统计-数据报表-Echarts-文档-引入</h4><blockquote>
<p>数据可视化:</p>
</blockquote>
<ol>
<li>flash 画图</li>
<li>H5-&gt;canvas 标签(画布)<blockquote>
<p>3D 建模</p>
</blockquote>
</li>
<li>D3.js</li>
<li>three.js</li>
<li>WebGL</li>
<li>Echarts.js(百度的一个产品)<blockquote>
<p>mounted(){方法调用}</p>
</blockquote>
</li>
</ol>
<h4 id="18-项目-数据统计-数据报表-Echarts-配置"><a href="#18-项目-数据统计-数据报表-Echarts-配置" class="headerlink" title="18-项目-数据统计-数据报表-Echarts-配置"></a>18-项目-数据统计-数据报表-Echarts-配置</h4><blockquote>
<p>url-&gt; “reports/type/1”</p>
</blockquote>
<h4 id="19-项目-优化-加载动画"><a href="#19-项目-优化-加载动画" class="headerlink" title="19-项目-优化-加载动画"></a>19-项目-优化-加载动画</h4><blockquote>
<p>动画-&gt;img src=”xxoo.gif”<br>element-&gt;el-table v-loading=”loading”</p>
</blockquote>
<h4 id="20-项目-优化-拦截器统一处理响应"><a href="#20-项目-优化-拦截器统一处理响应" class="headerlink" title="20-项目-优化-拦截器统一处理响应"></a>20-项目-优化-拦截器统一处理响应</h4><blockquote>
<p>统一处理 status 非 200 和 201 的情况-&gt;提示框</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对响应数据做点什么</span></span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      meta: &#123; msg, status &#125;</span><br><span class="line">    &#125; = response.data;</span><br><span class="line">    <span class="comment">// 统一处理status非200和201的情况-&gt;提示框</span></span><br><span class="line">    <span class="keyword">if</span> (status !== <span class="number">200</span> &amp;&amp; status !== <span class="number">201</span>) &#123;</span><br><span class="line">      Message.warning(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 对响应错误做点什么</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="day13-项目-重点"><a href="#day13-项目-重点" class="headerlink" title="day13-项目-重点"></a>day13-项目-重点</h3><h4 id="00-反馈-补充"><a href="#00-反馈-补充" class="headerlink" title="00-反馈-补充"></a>00-反馈-补充</h4><ol>
<li>分类参数.vue-&gt;动态 tag 编辑-&gt;el-input-&gt;同时变<br>思路 1:绑定不同的数据-&gt;动态 v-model=”obj[scope.$index]”赋值<br>思路 2:只打开一个</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el-table @expand-change="fn"</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (expandedRows.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">  expandedRows.shift();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>补充:侧边栏刷新时-&gt;回到之前激活状态<blockquote>
<p>我是谁?w 我在哪?我要做什么?<br>侧边栏 home.vue+el-menu(属性方法事件)+记录刷新前点击时路由参数(name/path 等)<br>el-menu :dafault-active=”\$route.name”<br>前提 路由配置中 name 和 path 中</p>
</blockquote>
</li>
</ol>
<h4 id="01-项目-补充-nextTick"><a href="#01-项目-补充-nextTick" class="headerlink" title="01-项目-补充-nextTick"></a>01-项目-补充-nextTick</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 操作dom的代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs.txt.innerText);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="02-项目-打包-演示"><a href="#02-项目-打包-演示" class="headerlink" title="02-项目-打包-演示"></a>02-项目-打包-演示</h4><blockquote>
<p>打包前:npm run dev<br>vuecli-&gt;目录-&gt;.vue 文件+.css+.js 等<br>打包后:项目目录(.html+.css+.js+字体)</p>
</blockquote>
<blockquote>
<p>webpack:提供了打包的指令<br>来到项目所在目录-&gt;npm run build</p>
</blockquote>
<blockquote>
<p>产物<br>dist/(index.html+static)<br>static/(js+css+font)<br>js/</p>
</blockquote>
<ol>
<li>app.xxx.js 自己的 js 代码(组件自己的 js+公共的 js)</li>
<li>manifest.js 缓存</li>
<li>vender.xxx.js 第三方的 js<blockquote>
<p>目前.map 不用关心<br>小问题 vender.xxx.js 很大-&gt;1.99M<br>app.xxx.js-&gt;149K</p>
</blockquote>
</li>
</ol>
<blockquote>
<p>项目服务器:把 dist 目录放在服务器路径下</p>
</blockquote>
<h4 id="03-项目-优化-路由懒加载"><a href="#03-项目-优化-路由懒加载" class="headerlink" title="03-项目-优化-路由懒加载"></a>03-项目-优化-路由懒加载</h4><blockquote>
<p>目前效果<br>任何组件显示-&gt;network-&gt;加载了所有资源(app.xxx.js 等)</p>
</blockquote>
<blockquote>
<p>处理之后(router/index.js)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Login = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">"@/components/login.vue"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>重新打包 npm run build<br>js/</p>
</blockquote>
<ol>
<li>app.xx.js -&gt;公共的 js 代码-.变小</li>
<li>序号.xx.js -&gt; 每个组件自己的 js 代码</li>
</ol>
<blockquote>
<p>页面中显示某个组件-&gt;只加载了对应的.js-&gt;SPA 首屏加载变快</p>
</blockquote>
<h4 id="04-项目-优化-cdn-配置"><a href="#04-项目-优化-cdn-配置" class="headerlink" title="04-项目-优化-cdn-配置"></a>04-项目-优化-cdn-配置</h4><blockquote>
<p>vender.xxx.js-&gt;961K<br>第三方.js 在本地 vender.xx.js 中-&gt;CDN(网址加载)</p>
</blockquote>
<ol>
<li>找 cdn 资源(官网+bootcdn 网站)-&gt;index.html(打包前)多了好多链接</li>
<li>配置 cdn(告诉加载来源 cdn)-&gt;webpack-&gt;修改 webpack 配置</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">externals: &#123;</span><br><span class="line">    // jquery: 'jQuery'</span><br><span class="line"></span><br><span class="line">    // key-&gt;js的包名-&gt;package.json</span><br><span class="line">    // value-&gt;该包暴露给全局作用域内的变量名</span><br><span class="line">    "vue": "Vue",</span><br><span class="line">    "vue-router": "VueRouter",</span><br><span class="line">    "element-ui": "ELEMENT",</span><br><span class="line">    "axios": "axios",</span><br><span class="line">    "moment": "moment",</span><br><span class="line">    "echarts": "echarts"</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>改变量名–&gt;改为上一步的全局变量名<br>3.1 main.js Vue+ELEMENT(改) + element 样式文件引入(删除)<br>3.2 router/index.js-&gt;VueRouter<br>3.3 报表/echarts</li>
</ol>
<blockquote>
<p>4 npm run build<br>对比 vender.xx.js 的大小 961K-&gt;19.6K</p>
</blockquote>
<h4 id="05-项目-打包-优化后"><a href="#05-项目-打包-优化后" class="headerlink" title="05-项目-打包(优化后)"></a>05-项目-打包(优化后)</h4><blockquote>
<p>npm run build-&gt;<br>index.html-&gt;用户访问的首页<br>js/</p>
</blockquote>
<ol>
<li>app.xx.js-&gt;自己的公共 js</li>
<li>序号.xx.js-&gt;组件的对应 js</li>
<li>vender.xx.js-&gt;第三方的 js<br>css/-&gt;希望每个组件的 css 代码在当前组件内生效<blockquote>
<p>在.vue 文件的 style 开始标签位置设置 scoped</p>
</blockquote>
</li>
<li>.map 文件作用:用来调试-&gt;用户不需要-&gt;在打包时通过 webpack 配置<blockquote>
<p>在 webpack.prod.conf.js-&gt;注释掉</p>
</blockquote>
</li>
<li>随机数问题 app.xx.js<blockquote>
<p>1 版本打包-&gt;1.xx1.js-&gt;用户浏览网页-&gt;2 版本打包-&gt;1.xx2.js-&gt;用户浏览网页 1.xx2.js</p>
</blockquote>
</li>
<li>dist/-&gt;放在项目上线服务器 index.html <a href="http://www.xxoo.com/index.html" target="_blank" rel="noopener">www.xxoo.com/index.html</a></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/keaichong.github.io/2019/02/04/Jsonp原理/" rel="next" title="Jsonp原理">
                <i class="fa fa-chevron-left"></i> Jsonp原理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/keaichong.github.io/2019/02/10/require和import的区别/" rel="prev" title="require和import的区别">
                require和import的区别 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/keaichong.github.io/images/avatar.jpg" alt="愚人阳仔">
            
              <p class="site-author-name" itemprop="name">愚人阳仔</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/keaichong.github.io/archives/">
              
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/keaichong.github.io/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue-项目-重点"><span class="nav-number">1.</span> <span class="nav-text">Vue-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#day07-项目-重点"><span class="nav-number">1.1.</span> <span class="nav-text">day07-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-准备-vue-cli-创建项目结构"><span class="nav-number">1.1.1.</span> <span class="nav-text">01-项目-准备-vue-cli 创建项目结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-准备-项目目录说明"><span class="nav-number">1.1.2.</span> <span class="nav-text">02-项目-准备-项目目录说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-准备-代码规范-自定义指令-lintfix"><span class="nav-number">1.1.3.</span> <span class="nav-text">03-项目-准备-代码规范-自定义指令-lintfix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-准备-element-ui-文档分析"><span class="nav-number">1.1.4.</span> <span class="nav-text">04-项目-准备-element-ui-文档分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-准备-element-ui-安装-引入"><span class="nav-number">1.1.5.</span> <span class="nav-text">05-项目-准备-element-ui-安装-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-准备-项目模板简化-调整"><span class="nav-number">1.1.6.</span> <span class="nav-text">06-项目-准备-项目模板简化-调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-准备-git-版本控制"><span class="nav-number">1.1.7.</span> <span class="nav-text">07-项目-准备-git-版本控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-准备-git-分支管理"><span class="nav-number">1.1.8.</span> <span class="nav-text">08-项目-准备-git-分支管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-登录-新建分支-login-组件-配置路由"><span class="nav-number">1.1.9.</span> <span class="nav-text">09-项目-登录-新建分支-login 组件-配置路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-登录-引入表单组件"><span class="nav-number">1.1.10.</span> <span class="nav-text">10-项目-登录-引入表单组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-登录-样式调整"><span class="nav-number">1.1.11.</span> <span class="nav-text">11-项目-登录-样式调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-登录-axios-插件"><span class="nav-number">1.1.12.</span> <span class="nav-text">12-项目-登录-axios 插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-登录-发送登录请求"><span class="nav-number">1.1.13.</span> <span class="nav-text">13-项目-登录-发送登录请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-登录-引入提示框组件"><span class="nav-number">1.1.14.</span> <span class="nav-text">14-项目-登录-引入提示框组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-登录-登录成功-进入-home-组件"><span class="nav-number">1.1.15.</span> <span class="nav-text">15-项目-登录-登录成功-进入 home 组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-登录-简化登录请求代码-async-和-await"><span class="nav-number">1.1.16.</span> <span class="nav-text">16-项目-登录-简化登录请求代码-async 和 await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-登录-保存-token-值"><span class="nav-number">1.1.17.</span> <span class="nav-text">17-项目-登录-保存 token 值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-首页-布局容器-使用-样式调整"><span class="nav-number">1.1.18.</span> <span class="nav-text">18-项目-首页-布局容器-使用-样式调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-首页-头部-样式调整"><span class="nav-number">1.1.19.</span> <span class="nav-text">19-项目-首页-头部-样式调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-项目-合并代码-登录"><span class="nav-number">1.1.20.</span> <span class="nav-text">20-项目-合并代码-登录</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day08-项目-重点"><span class="nav-number">1.2.</span> <span class="nav-text">day08-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-首页-侧边栏-导航组件-文档"><span class="nav-number">1.2.1.</span> <span class="nav-text">01-项目-首页-侧边栏-导航组件-文档</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-首页-侧边栏-引入导航组件-调整"><span class="nav-number">1.2.2.</span> <span class="nav-text">02-项目-首页-侧边栏-引入导航组件-调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-首页-进入首页的权限验证"><span class="nav-number">1.2.3.</span> <span class="nav-text">03-项目-首页-进入首页的权限验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-首页-头部-退出功能"><span class="nav-number">1.2.4.</span> <span class="nav-text">04-项目-首页-头部-退出功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-首页-合并分支-新建用户分支"><span class="nav-number">1.2.5.</span> <span class="nav-text">05-项目-首页-合并分支-新建用户分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-用户管理-用户列表-新建组件-路由配置"><span class="nav-number">1.2.6.</span> <span class="nav-text">06-项目-用户管理-用户列表-新建组件-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-用户管理-用户列表-面包屑和搜索框"><span class="nav-number">1.2.7.</span> <span class="nav-text">07-项目-用户管理-用户列表-面包屑和搜索框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-用户管理-用户列表-引入表格组件"><span class="nav-number">1.2.8.</span> <span class="nav-text">08-项目-用户管理-用户列表-引入表格组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-用户管理-用户列表-表头处理"><span class="nav-number">1.2.9.</span> <span class="nav-text">09-项目-用户管理-用户列表-表头处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-用户管理-用户列表-请求数据"><span class="nav-number">1.2.10.</span> <span class="nav-text">10-项目-用户管理-用户列表-请求数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-用户管理-用户列表-渲染数据-一般数据"><span class="nav-number">1.2.11.</span> <span class="nav-text">11-项目-用户管理-用户列表-渲染数据-一般数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-用户管理-用户列表-渲染数据-日期格式处理"><span class="nav-number">1.2.12.</span> <span class="nav-text">12-项目-用户管理-用户列表-渲染数据-日期格式处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-用户管理-用户列表-渲染数据-用户状态开关"><span class="nav-number">1.2.13.</span> <span class="nav-text">13-项目-用户管理-用户列表-渲染数据-用户状态开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-用户管理-用户列表-渲染数据-操作"><span class="nav-number">1.2.14.</span> <span class="nav-text">14-项目-用户管理-用户列表-渲染数据-操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-用户管理-用户列表-分页组件-文档-引入"><span class="nav-number">1.2.15.</span> <span class="nav-text">15-项目-用户管理-用户列表-分页组件-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-用户管理-用户列表-分页组件-配置数据"><span class="nav-number">1.2.16.</span> <span class="nav-text">16-项目-用户管理-用户列表-分页组件-配置数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-用户管理-用户列表-分页组件-分页请求"><span class="nav-number">1.2.17.</span> <span class="nav-text">17-项目-用户管理-用户列表-分页组件-分页请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-用户管理-用户列表-搜索用户"><span class="nav-number">1.2.18.</span> <span class="nav-text">18-项目-用户管理-用户列表-搜索用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-用户管理-用户列表-添加用户-显示对话框"><span class="nav-number">1.2.19.</span> <span class="nav-text">19-项目-用户管理-用户列表-添加用户-显示对话框</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue-项目-重点-1"><span class="nav-number">2.</span> <span class="nav-text">Vue-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#day07-项目-重点-1"><span class="nav-number">2.1.</span> <span class="nav-text">day07-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-准备-vue-cli-创建项目结构-1"><span class="nav-number">2.1.1.</span> <span class="nav-text">01-项目-准备-vue-cli 创建项目结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-准备-项目目录说明-1"><span class="nav-number">2.1.2.</span> <span class="nav-text">02-项目-准备-项目目录说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-准备-代码规范-自定义指令-lintfix-1"><span class="nav-number">2.1.3.</span> <span class="nav-text">03-项目-准备-代码规范-自定义指令-lintfix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-准备-element-ui-文档分析-1"><span class="nav-number">2.1.4.</span> <span class="nav-text">04-项目-准备-element-ui-文档分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-准备-element-ui-安装-引入-1"><span class="nav-number">2.1.5.</span> <span class="nav-text">05-项目-准备-element-ui-安装-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-准备-项目模板简化-调整-1"><span class="nav-number">2.1.6.</span> <span class="nav-text">06-项目-准备-项目模板简化-调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-准备-git-版本控制-1"><span class="nav-number">2.1.7.</span> <span class="nav-text">07-项目-准备-git-版本控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-准备-git-分支管理-1"><span class="nav-number">2.1.8.</span> <span class="nav-text">08-项目-准备-git-分支管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-登录-新建分支-login-组件-配置路由-1"><span class="nav-number">2.1.9.</span> <span class="nav-text">09-项目-登录-新建分支-login 组件-配置路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-登录-引入表单组件-1"><span class="nav-number">2.1.10.</span> <span class="nav-text">10-项目-登录-引入表单组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-登录-样式调整-1"><span class="nav-number">2.1.11.</span> <span class="nav-text">11-项目-登录-样式调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-登录-axios-插件-1"><span class="nav-number">2.1.12.</span> <span class="nav-text">12-项目-登录-axios 插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-登录-发送登录请求-1"><span class="nav-number">2.1.13.</span> <span class="nav-text">13-项目-登录-发送登录请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-登录-引入提示框组件-1"><span class="nav-number">2.1.14.</span> <span class="nav-text">14-项目-登录-引入提示框组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-登录-登录成功-进入-home-组件-1"><span class="nav-number">2.1.15.</span> <span class="nav-text">15-项目-登录-登录成功-进入 home 组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-登录-简化登录请求代码-async-和-await-1"><span class="nav-number">2.1.16.</span> <span class="nav-text">16-项目-登录-简化登录请求代码-async 和 await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-登录-保存-token-值-1"><span class="nav-number">2.1.17.</span> <span class="nav-text">17-项目-登录-保存 token 值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-首页-布局容器-样式调整"><span class="nav-number">2.1.18.</span> <span class="nav-text">18-项目-首页-布局容器-样式调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-首页-头部-样式调整-1"><span class="nav-number">2.1.19.</span> <span class="nav-text">19-项目-首页-头部-样式调整</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day08-项目-重点-1"><span class="nav-number">2.2.</span> <span class="nav-text">day08-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-首页-侧边栏-导航组件-文档-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">01-项目-首页-侧边栏-导航组件-文档</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-首页-侧边栏-引入导航组件-调整-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">02-项目-首页-侧边栏-引入导航组件-调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-首页-进入首页的权限验证-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">03-项目-首页-进入首页的权限验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-首页-头部-退出功能-1"><span class="nav-number">2.2.4.</span> <span class="nav-text">04-项目-首页-头部-退出功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-首页-合并分支-新建用户分支-1"><span class="nav-number">2.2.5.</span> <span class="nav-text">05-项目-首页-合并分支-新建用户分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-用户管理-用户列表-新建组件-路由配置-1"><span class="nav-number">2.2.6.</span> <span class="nav-text">06-项目-用户管理-用户列表-新建组件-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-用户管理-用户列表-面包屑和搜索框-1"><span class="nav-number">2.2.7.</span> <span class="nav-text">07-项目-用户管理-用户列表-面包屑和搜索框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-用户管理-用户列表-引入表格组件-1"><span class="nav-number">2.2.8.</span> <span class="nav-text">08-项目-用户管理-用户列表-引入表格组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-用户管理-用户列表-表头处理-1"><span class="nav-number">2.2.9.</span> <span class="nav-text">09-项目-用户管理-用户列表-表头处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-用户管理-用户列表-请求数据-1"><span class="nav-number">2.2.10.</span> <span class="nav-text">10-项目-用户管理-用户列表-请求数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-用户管理-用户列表-渲染数据-一般数据-1"><span class="nav-number">2.2.11.</span> <span class="nav-text">11-项目-用户管理-用户列表-渲染数据-一般数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-用户管理-用户列表-渲染数据-日期格式处理-1"><span class="nav-number">2.2.12.</span> <span class="nav-text">12-项目-用户管理-用户列表-渲染数据-日期格式处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-用户管理-用户列表-渲染数据-用户状态开关-1"><span class="nav-number">2.2.13.</span> <span class="nav-text">13-项目-用户管理-用户列表-渲染数据-用户状态开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-用户管理-用户列表-渲染数据-操作-1"><span class="nav-number">2.2.14.</span> <span class="nav-text">14-项目-用户管理-用户列表-渲染数据-操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-用户管理-用户列表-分页组件-文档-引入-1"><span class="nav-number">2.2.15.</span> <span class="nav-text">15-项目-用户管理-用户列表-分页组件-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-用户管理-用户列表-分页组件-配置数据-1"><span class="nav-number">2.2.16.</span> <span class="nav-text">16-项目-用户管理-用户列表-分页组件-配置数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-用户管理-用户列表-分页组件-分页请求-1"><span class="nav-number">2.2.17.</span> <span class="nav-text">17-项目-用户管理-用户列表-分页组件-分页请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-用户管理-用户列表-搜索用户-1"><span class="nav-number">2.2.18.</span> <span class="nav-text">18-项目-用户管理-用户列表-搜索用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-用户管理-用户列表-添加用户-显示对话框-1"><span class="nav-number">2.2.19.</span> <span class="nav-text">19-项目-用户管理-用户列表-添加用户-显示对话框</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day09-项目-重点"><span class="nav-number">2.3.</span> <span class="nav-text">day09-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-用户管理-用户列表-添加用户-发送请求"><span class="nav-number">2.3.1.</span> <span class="nav-text">01-项目-用户管理-用户列表-添加用户-发送请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-用户管理-用户列表-删除用户-打开确认框"><span class="nav-number">2.3.2.</span> <span class="nav-text">02-项目-用户管理-用户列表-删除用户-打开确认框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-用户管理-用户列表-删除用户-处理响应"><span class="nav-number">2.3.3.</span> <span class="nav-text">03-项目-用户管理-用户列表-删除用户-处理响应</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-用户管理-用户列表-编辑用户-显示对话框"><span class="nav-number">2.3.4.</span> <span class="nav-text">04-项目-用户管理-用户列表-编辑用户-显示对话框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-用户管理-用户列表-编辑用户-显示编辑数据"><span class="nav-number">2.3.5.</span> <span class="nav-text">05-项目-用户管理-用户列表-编辑用户-显示编辑数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-用户管理-用户列表-编辑用户-发送请求"><span class="nav-number">2.3.6.</span> <span class="nav-text">06-项目-用户管理-用户列表-编辑用户-发送请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-用户管理-用户列表-修改用户状态"><span class="nav-number">2.3.7.</span> <span class="nav-text">07-项目-用户管理-用户列表-修改用户状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-用户管理-用户列表-分配角色-功能演示"><span class="nav-number">2.3.8.</span> <span class="nav-text">08-项目-用户管理-用户列表-分配角色-功能演示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-用户管理-用户列表-分配角色-显示对话框"><span class="nav-number">2.3.9.</span> <span class="nav-text">09-项目-用户管理-用户列表-分配角色-显示对话框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框"><span class="nav-number">2.3.10.</span> <span class="nav-text">10-项目-用户管理-用户列表-分配角色-显示对话框-下拉框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-用户管理-用户列表-分配角色-显示当前用户角色"><span class="nav-number">2.3.11.</span> <span class="nav-text">11-项目-用户管理-用户列表-分配角色-显示当前用户角色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-用户管理-用户列表-分配角色-修改用户角色"><span class="nav-number">2.3.12.</span> <span class="nav-text">12-项目-用户管理-用户列表-分配角色-修改用户角色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-用户管理-用户列表-合并分支-推送"><span class="nav-number">2.3.13.</span> <span class="nav-text">13-项目-用户管理-用户列表-合并分支-推送</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-权限管理-新建分支-功能演示"><span class="nav-number">2.3.14.</span> <span class="nav-text">14-项目-权限管理-新建分支-功能演示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-权限管理-权限列表-新建组件-路由配置"><span class="nav-number">2.3.15.</span> <span class="nav-text">15-项目-权限管理-权限列表-新建组件-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-权限管理-权限列表-自定义面包屑组件"><span class="nav-number">2.3.16.</span> <span class="nav-text">16-项目-权限管理-权限列表-自定义面包屑组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-权限管理-权限列表-获取权限列表数据"><span class="nav-number">2.3.17.</span> <span class="nav-text">17-项目-权限管理-权限列表-获取权限列表数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-权限管理-权限列表-axios-封装插件"><span class="nav-number">2.3.18.</span> <span class="nav-text">18-项目-权限管理-权限列表-axios-封装插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-权限管理-权限列表-axios-拦截器统一设置请求头"><span class="nav-number">2.3.19.</span> <span class="nav-text">19-项目-权限管理-权限列表-axios-拦截器统一设置请求头</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day10-项目-重点"><span class="nav-number">2.4.</span> <span class="nav-text">day10-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-权限管理-权限列表-表格展示"><span class="nav-number">2.4.1.</span> <span class="nav-text">01-项目-权限管理-权限列表-表格展示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-权限管理-权限列表-表格展示-层级显示"><span class="nav-number">2.4.2.</span> <span class="nav-text">02-项目-权限管理-权限列表-表格展示-层级显示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-权限管理-角色列表-新建组件-配置路由"><span class="nav-number">2.4.3.</span> <span class="nav-text">03-项目-权限管理-角色列表-新建组件-配置路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-权限管理-角色列表-面包屑和添加按钮"><span class="nav-number">2.4.4.</span> <span class="nav-text">04-项目-权限管理-角色列表-面包屑和添加按钮</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-权限管理-角色列表-获取角色列表数据"><span class="nav-number">2.4.5.</span> <span class="nav-text">05-项目-权限管理-角色列表-获取角色列表数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-权限管理-角色列表-表格展示"><span class="nav-number">2.4.6.</span> <span class="nav-text">06-项目-权限管理-角色列表-表格展示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-权限管理-角色列表-表格展示-展开行功能分析"><span class="nav-number">2.4.7.</span> <span class="nav-text">07-项目-权限管理-角色列表-表格展示-展开行功能分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-权限管理-角色列表-表格展示-展开行-一级权限"><span class="nav-number">2.4.8.</span> <span class="nav-text">08-项目-权限管理-角色列表-表格展示-展开行-一级权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限"><span class="nav-number">2.4.9.</span> <span class="nav-text">09-项目-权限管理-角色列表-表格展示-展开行-二级三级权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-权限管理-角色列表-展开行-样式调整-处理无权限"><span class="nav-number">2.4.10.</span> <span class="nav-text">10-项目-权限管理-角色列表-展开行-样式调整-处理无权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-权限管理-角色列表-展开行-取消权限"><span class="nav-number">2.4.11.</span> <span class="nav-text">11-项目-权限管理-角色列表-展开行-取消权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-权限管理-角色列表-展开行-取消权限-优化"><span class="nav-number">2.4.12.</span> <span class="nav-text">12-项目-权限管理-角色列表-展开行-取消权限-优化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-权限管理-角色列表-修改权限-显示对话框"><span class="nav-number">2.4.13.</span> <span class="nav-text">13-项目-权限管理-角色列表-修改权限-显示对话框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-权限管理-角色列表-修改权限-树形结构-文档分析"><span class="nav-number">2.4.14.</span> <span class="nav-text">14-项目-权限管理-角色列表-修改权限-树形结构-文档分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-权限管理-角色列表-修改权限-树形结构-配置数据"><span class="nav-number">2.4.15.</span> <span class="nav-text">15-项目-权限管理-角色列表-修改权限-树形结构-配置数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限"><span class="nav-number">2.4.16.</span> <span class="nav-text">16-项目-权限管理-角色列表-修改权限-树形结构-显示已有权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析"><span class="nav-number">2.4.17.</span> <span class="nav-text">17-项目-权限管理-角色列表-修改权限-树形结构-分配权限-分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现"><span class="nav-number">2.4.18.</span> <span class="nav-text">18-项目-权限管理-角色列表-修改权限-树形结构-分配权限-实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-首页-侧边栏-动态导航"><span class="nav-number">2.4.19.</span> <span class="nav-text">19-项目-首页-侧边栏-动态导航</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-项目-效果演示-不同角色用户登录-显示对应权限"><span class="nav-number">2.4.20.</span> <span class="nav-text">20-项目-效果演示-不同角色用户登录-显示对应权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-项目-权限管理-合并分支-推送-新建分支"><span class="nav-number">2.4.21.</span> <span class="nav-text">22-项目-权限管理-合并分支-推送-新建分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day11-项目-重点"><span class="nav-number">2.5.</span> <span class="nav-text">day11-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-商品管理-功能演示-新建分支"><span class="nav-number">2.5.1.</span> <span class="nav-text">01-项目-商品管理-功能演示-新建分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-商品管理-商品列表-显示-提前准备"><span class="nav-number">2.5.2.</span> <span class="nav-text">02-项目-商品管理-商品列表-显示(提前准备)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-商品管理-添加商品-新建组件-配置路由-布局"><span class="nav-number">2.5.3.</span> <span class="nav-text">03-项目-商品管理-添加商品-新建组件-配置路由-布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-商品管理-添加商品-步骤条"><span class="nav-number">2.5.4.</span> <span class="nav-text">04-项目-商品管理-添加商品-步骤条</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-商品管理-添加商品-tabs-标签"><span class="nav-number">2.5.5.</span> <span class="nav-text">05-项目-商品管理-添加商品-tabs 标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-商品管理-添加商品-基本信息-绑定表单数据"><span class="nav-number">2.5.6.</span> <span class="nav-text">06-项目-商品管理-添加商品-基本信息-绑定表单数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入"><span class="nav-number">2.5.7.</span> <span class="nav-text">07-项目-商品管理-添加商品-基本信息-级联选择器-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据"><span class="nav-number">2.5.8.</span> <span class="nav-text">08-项目-商品管理-添加商品-基本信息-级联选择器-获取分类数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据"><span class="nav-number">2.5.9.</span> <span class="nav-text">09-项目-商品管理-添加商品-基本信息-级联选择器-配置数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-商品管理-添加商品-商品参数-获取动态参数数据"><span class="nav-number">2.5.10.</span> <span class="nav-text">10-项目-商品管理-添加商品-商品参数-获取动态参数数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入"><span class="nav-number">2.5.11.</span> <span class="nav-text">11-项目-商品管理-添加商品-商品参数-复选框组-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-商品管理-添加商品-商品参数-配置复选框"><span class="nav-number">2.5.12.</span> <span class="nav-text">12-项目-商品管理-添加商品-商品参数-配置复选框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-商品管理-添加商品-商品属性-获取静态参数数据"><span class="nav-number">2.5.13.</span> <span class="nav-text">13-项目-商品管理-添加商品-商品属性-获取静态参数数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-商品管理-添加商品-商品属性-布局"><span class="nav-number">2.5.14.</span> <span class="nav-text">14-项目-商品管理-添加商品-商品属性-布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-商品管理-添加商品-图片上传-文档-引入"><span class="nav-number">2.5.15.</span> <span class="nav-text">15-项目-商品管理-添加商品-图片上传-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-商品管理-添加商品-图片上传-配置属性"><span class="nav-number">2.5.16.</span> <span class="nav-text">16-项目-商品管理-添加商品-图片上传-配置属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-商品管理-添加商品-商品内容-富文本编辑器"><span class="nav-number">2.5.17.</span> <span class="nav-text">17-项目-商品管理-添加商品-商品内容-富文本编辑器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-商品管理-添加商品-表单数据分析"><span class="nav-number">2.5.18.</span> <span class="nav-text">18-项目-商品管理-添加商品-表单数据分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-商品管理-添加商品-表单数据处理-分类和图片"><span class="nav-number">2.5.19.</span> <span class="nav-text">19-项目-商品管理-添加商品-表单数据处理-分类和图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-项目-商品管理-添加商品-表单数据处理-attrs"><span class="nav-number">2.5.20.</span> <span class="nav-text">20-项目-商品管理-添加商品-表单数据处理-attrs</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#21-项目-商品管理-添加商品-发送请求-回到商品列表页"><span class="nav-number">2.5.21.</span> <span class="nav-text">21-项目-商品管理-添加商品-发送请求-回到商品列表页</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day12-项目-重点"><span class="nav-number">2.6.</span> <span class="nav-text">day12-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-商品管理-分类参数-新建组件-路由配置"><span class="nav-number">2.6.1.</span> <span class="nav-text">01-项目-商品管理-分类参数-新建组件-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器"><span class="nav-number">2.6.2.</span> <span class="nav-text">02-项目-商品管理-分类参数-动态参数-布局-配置级联选择器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-商品管理-分类参数-动态参数-获取动态参数数据"><span class="nav-number">2.6.3.</span> <span class="nav-text">03-项目-商品管理-分类参数-动态参数-获取动态参数数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-商品管理-分类参数-动态参数-表格渲染"><span class="nav-number">2.6.4.</span> <span class="nav-text">04-项目-商品管理-分类参数-动态参数-表格渲染</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入"><span class="nav-number">2.6.5.</span> <span class="nav-text">05-项目-商品管理-分类参数-动态参数-动态编辑-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成"><span class="nav-number">2.6.6.</span> <span class="nav-text">06-项目-商品管理-分类参数-动态参数-动态编辑-配置-完成</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求"><span class="nav-number">2.6.7.</span> <span class="nav-text">07-项目-商品管理-分类参数-动态参数-动态编辑-发送请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#08-项目-商品管理-分类参数-静态参数-布局-获取数据"><span class="nav-number">2.6.8.</span> <span class="nav-text">08-项目-商品管理-分类参数-静态参数-布局-获取数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#09-项目-商品管理-商品分类-组件-提前准备-路由配置"><span class="nav-number">2.6.9.</span> <span class="nav-text">09-项目-商品管理-商品分类-组件(提前准备)-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-项目-商品管理-商品分类-element-tree-grid-文档-引入"><span class="nav-number">2.6.10.</span> <span class="nav-text">10-项目-商品管理-商品分类-element-tree-grid-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-项目-商品管理-商品分类-element-tree-grid-配置"><span class="nav-number">2.6.11.</span> <span class="nav-text">11-项目-商品管理-商品分类-element-tree-grid-配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-项目-商品管理-商品分类-添加分类-打开对话框"><span class="nav-number">2.6.12.</span> <span class="nav-text">12-项目-商品管理-商品分类-添加分类-打开对话框</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-项目-商品管理-商品分类-添加分类-发送请求"><span class="nav-number">2.6.13.</span> <span class="nav-text">13-项目-商品管理-商品分类-添加分类-发送请求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-项目-合并分支-推送分支-新建分支"><span class="nav-number">2.6.14.</span> <span class="nav-text">14-项目-合并分支-推送分支-新建分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-项目-订单管理-订单列表-组件-提前准备-路由配置"><span class="nav-number">2.6.15.</span> <span class="nav-text">15-项目-订单管理-订单列表-组件(提前准备)-路由配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-项目-订单管理-订单列表-省市区引入"><span class="nav-number">2.6.16.</span> <span class="nav-text">16-项目-订单管理-订单列表-省市区引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-项目-数据统计-数据报表-Echarts-文档-引入"><span class="nav-number">2.6.17.</span> <span class="nav-text">17-项目-数据统计-数据报表-Echarts-文档-引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#18-项目-数据统计-数据报表-Echarts-配置"><span class="nav-number">2.6.18.</span> <span class="nav-text">18-项目-数据统计-数据报表-Echarts-配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#19-项目-优化-加载动画"><span class="nav-number">2.6.19.</span> <span class="nav-text">19-项目-优化-加载动画</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-项目-优化-拦截器统一处理响应"><span class="nav-number">2.6.20.</span> <span class="nav-text">20-项目-优化-拦截器统一处理响应</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#day13-项目-重点"><span class="nav-number">2.7.</span> <span class="nav-text">day13-项目-重点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#00-反馈-补充"><span class="nav-number">2.7.1.</span> <span class="nav-text">00-反馈-补充</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#01-项目-补充-nextTick"><span class="nav-number">2.7.2.</span> <span class="nav-text">01-项目-补充-nextTick</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#02-项目-打包-演示"><span class="nav-number">2.7.3.</span> <span class="nav-text">02-项目-打包-演示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#03-项目-优化-路由懒加载"><span class="nav-number">2.7.4.</span> <span class="nav-text">03-项目-优化-路由懒加载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#04-项目-优化-cdn-配置"><span class="nav-number">2.7.5.</span> <span class="nav-text">04-项目-优化-cdn-配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#05-项目-打包-优化后"><span class="nav-number">2.7.6.</span> <span class="nav-text">05-项目-打包(优化后)</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">愚人阳仔</span>

  
</div>


  











        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/keaichong.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/keaichong.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/keaichong.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/keaichong.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/keaichong.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/keaichong.github.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/keaichong.github.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/keaichong.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
